!function(){"use strict";try{window.LXAnalytics.v="5.1.1"}catch(t){}var c="post",a="__lxvalidation",l=/^(([^? \r\n]*)\?)?([^?# \r\n]+)(#\S+)?$/,t="_lxsdk_",e="dianping_nova",u="waimai",s="group",f="_VERSION_",g="category",d="defaultCategory",o="defaultCid",v="lxcuid",p="uuid",h="msid",m="cityid",y="utm",n="utm_source",r="utm_medium",i="utm_content",_="utm_term",w="utm_campaign",b="uid",k="userid",S="dpid",x="appnm",q="union_id",C="web_env",N="wxmp_env",I="wxid",A="req_id",O="isauto",D="val_cid",T="scene",E="_lx_validcode",P=t+"cuid",j="_lxsdk_s",M="_lx_utm",V="_lxsdk_dpid",L="latlng",R="|",J=0,B="_lxsdk_rr",U="_lxsdk_rc",W="getTracker",X="lx_inner_data",K="PV",F="PD",$="pageView",z="pageDisappear",H="systemCheck",G="moduleView",Z="moduleViewList",Q="moduleClick",Y="moduleEdit",tt="order",nt="pay",et=2,rt=0,it=1,ot=2,at=3,ct=4,ut=30,st=200,ft=500,lt="postreport.meituan.com",dt="wreport1.meituan.net",vt=200,pt=-3,gt="success",ht="failed",mt="msid",yt="ms",_t="category",wt="c",bt="login_type",kt="lt",St="locate_city_id",xt="lci",qt="sdk_ver",Ct="sv",Nt="lxcuid",It="lxid",At="val_lab",Ot="val_cid",Dt="val_bid",Tt="web_cid",Et="onWebviewAppearAutoPV",Pt="onWindowFocusAutoPV",jt="nativeReport",Mt="visibilityState",Vt="visible",Lt=7,Rt=6,Jt="pageLeave",Bt="[LXSDK]",Ut="sdk_env",Wt="online",Xt="offline",Kt="_lx_urltag",Ft=[qt,mt,Nt,Ut,"ua"],$t="channel_key_",zt="".concat($t,"page_disappear"),Ht="".concat($t,"lx_onload"),Gt=10080,Zt=window,Qt=Zt.location,Yt=Zt.document,tn=Yt.domain,nn=Zt.navigator,en=nn.userAgent,rn=/\bmobile\b/i.test(en),on=en.match(/(msie) (\d+)|Trident\/(d+)/i),an=!1;on&&(an=!0,parseInt(on[2],10));var cn=Zt.screen.width+"*"+Zt.screen.height,un=clearTimeout,sn=setTimeout,fn=void 0,ln=[{n:"demo",r:/lingxi\/demo\/\d+/i},{n:e,r:/dp\/com\.dianping\.[\w.]+\/([\d.]+)/i},{n:u,r:/\bmeituanwaimai-c\/\d+\./i},{n:"moviepro",r:/\bmoviepro/i},{n:"movie",r:/\bmaoyan\b/i},{n:s,r:/\bmeituan \d+|meituangroup\/\d+\./i}],dn="",vn=!1,pn=!1,gn="www";if(/\bandroid|mobile\b|\bhtc\b/i.test(en)){gn="i",rn=!0;for(var hn=0,mn=ln.length;hn<mn;hn++){var yn=ln[hn];if(yn.r.test(en)){dn=yn.n;break}}/\btitans(no){0,1}x\b/i.test(en)&&(vn=!0);var _n=/iphone/i.test(en),wn=/ipad/i.test(en);(_n||wn)&&(pn=!0),dn&&(_n?gn="iphone":/android/i.test(en)?gn="android":wn&&(gn="ipad"))}var bn=en.replace(/^.*Titans(No)?X\/([\w.]+)\s.*$/i,"$2"),kn=!(!rn||!/\sMMP\//.test(en)),Sn=!(!rn||!/\sMicroMessenger/.test(en)||kn),xn=(/android/i.test(en),!/Chrome/.test(en)&&!an&&/Mozilla.+AppleWebKit.+Version.+Safari.+/.test(en)),qn=/firefox/i.test(en),Cn=vn||/ knb\/\d+/i.test(en),Nn=function(){return rn&&Cn&&!Sn&&!kn};function In(t){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function An(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=[],r=!0,i=!1,o=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var On=/__lxvalidation=([\w.]+)/i,Dn=10,Tn={MVL:!1,QR:!1,getReqId:!1},En={onWindowFocusAutoPV:!0,onWebviewAppearAutoPV:!0,onVisibilityChangeAutoPV:!0,onVCGap:2,nativeReport:"on",autoPD:!0,nt:0,nativeAutoPD:!0,mvDelay:0,sessionScope:"top",debug:!1,isDev:!1,autoEventParams:null,onNetworkFailRetry:!0,reportDelay:500},Pn={path:location.href.replace(/^(.+\/\/[^?#]+).*$/,"$1"),cv:"staging",web:1,sv:"5.1.1"};function jn(t,n){!t||null!==n&&n!==fn?Pn[t]=n:delete Pn[t]}function Mn(t){return t?Pn[t]:Pn}var Vn=rt;function Ln(){return Vn}function Rn(t){Vn=t}function Jn(t){var n,e=0===Qt.protocol.indexOf("http:")?"http:":"https:",r="".concat(e,"//").concat(t,"/"),i=Qt.search.match(On)||[],o=function(){var t=te.get(a);if(t){var n=t.split("|");return{mis:n[0],env:n[1]||""}}return t||{}}();return(n=i&&i[1]||o.mis||"")&&(te.top(a,n+"|",Dn),r="".concat(e,"//").concat(t,"/?mis=").concat(n),En.debug=n),r}var Bn=!1;function Un(t){Bn=!!t}var Wn=Object.prototype,Xn=Array.prototype,Kn=Wn.toString,Fn=Wn.hasOwnProperty,$n=5e3,zn=function(){Xn.unshift.call(arguments,Bt)},error=function(){Xn.unshift.call(arguments,Bt)},Hn=0,Gn=decodeURIComponent,Zn=encodeURIComponent,Qn={del:function(t,n){var e=t+"=;path=/;domain="+n,r=new Date;return r.setFullYear(1970),e+=";expires="+r.toUTCString(),Yt.cookie=e,!0},get:function(t){var n=Yt.cookie.match(new RegExp("(?:^|;)\\s*"+t+"=([^;]+)"));return Gn(n?n[1]:"")},set:function(t,n,e,r){var i,o,a;r=r||Yt.domain;var c=t+"="+Zn(n)+";path=/;domain="+r;fn===e||isNaN(e)||(i=new Date,o=60*parseInt(e,10)*1e3,a=i.getTime()+o,i.setTime(a),c+=";expires="+i.toUTCString());try{return Yt.cookie=c,!0}catch(t){return!1}},top:function(t,n,e){var r,i=Yt.domain,o=i.split("."),a=o.length,c=a-1,u=!1;for(n=""+n;!u&&0<=c&&(i=o.slice(c,a).join("."),Qn.set(t,n,e,i),r=Qn.get(t),fn!==r&&(u=r===n),c--,!u););}};Qn.del=function(t){return Qn.top(t,"",-100)};var Yn,te=Qn;try{Yn=Zt.sessionStorage}catch(t){Yn=null}function ne(t){return In(t)}function ee(t,n){return ne(t)===n}function re(t){return ee(t,"string")}function ie(t){return ee(t,"function")}function oe(t){return ee(t,"number")}function ae(t){return t&&"[object Object]"===Kn.call(t)}function ce(t){return t&&"[object Array]"===Kn.call(t)}function ue(t,n){return Fn.call(t,n)}function se(t){return ie(t)&&/\[native code\]/.test(t.toString())}function fe(t,n,e){if(t){var r,i,o;if(ce(t))for(i=0,o=t.length;i<o&&!1!==n.call(e,t[i],i,t);i++);else for(r in t)if(ue(t,r)&&!1===n.call(e,t[r],r,t))break}}function le(e,r,i){var o;return fe(e,function(t,n){if(!0===r.call(i,t,n,e))return o=t,!1}),o}function de(t,e,r){var i,o=!0===t;return o||(r=e,e=t),e&&ae(e)||(e={}),r&&ae(r)||(r={}),fe(r,function(t,n){o&&ae(r[n])?(i=e[n],e[n]=ae(i)?i:{},de(o,e[n],r[n])):e[n]=r[n]}),e}function ve(t){var i={};if(t)return fe(t.replace(l,function(t,n,e,r){return r||""}).split("&"),function(t){var n=t.split("="),e=n[0],r=n.slice(1).join("")||"";e&&!Fn.call(i,e)&&(i[e]=Gn(r))}),i}function pe(t){var e=[];return ae(t)&&fe(t,function(t,n){ie(t)||(fn!==t&&!function(t){return!t&&ee(t,"object")}(t)||(t=t||""),e.push(Zn(n)+"="+Zn(t)))}),e.join("&")}function ge(t,n,e){t.addEventListener?t.addEventListener(n,e,!1):t.attachEvent&&t.attachEvent("on"+n,e)}var he=function(){return+new Date},me=function(){return Math.random()};var ye=0;var _e=2032;function we(t,n){var e=/^((\d+\.)+\d+).*$/;if("string"!==ne(t)||"string"!==ne(n))return NaN;if(!e.test(t)||!e.test(n))return NaN;for(var r=t.replace(e,"$1").split("."),i=n.replace(e,"$1").split("."),o=0,a=Math.max(r.length,i.length);o<a;o++){if(!r[o]||!i[o])(!r[o]&&r||!i[o]&&i).push("0");var c=r[o].toString().length,u=i[o].toString().length;if(c!==u){var s=u<c?i:r;s[o]=Array(Math.abs(c-u)+1).join("0")+s[o].toString()}}var f=parseInt(r.join("")),l=parseInt(i.join(""));return f==l?0:l<f?1:-1}function be(t,n,e){var r=new Zt.XMLHttpRequest;return r.open(n||c,function(t){var n="_lxsdk_rnd="+(he().toString(16)+Hn);return-1===t.indexOf("?")?t+"?"+n:t+"&"+n}(t),!0),r.timeout=$n,r.setRequestHeader("Content-Type",e),r}/trident/i.test(en)||/msie/i.test(en)||!/mozilla.+webkit.+chrome.+/i.test(en)||(_e=6e3);var ke=ie(Zt.setImmediate)&&/\[native code\]/.test(Zt.setImmediate.toString())?function(t){Zt.setImmediate(t)}:ie(Zt.Promise)&&/\[native code\]/.test(Zt.Promise.toString())?function(t){Zt.Promise.resolve().then(t)}:function(t){sn(t)};function Se(t){var n,e,r,i,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=0,u=0,s="",f=[];if(!t)return t;for(t=xe(t);n=(o=t.charCodeAt(c++)<<16|t.charCodeAt(c++)<<8|t.charCodeAt(c++))>>18&63,e=o>>12&63,r=o>>6&63,i=63&o,f[u++]=a.charAt(n)+a.charAt(e)+a.charAt(r)+a.charAt(i),c<t.length;);switch(s=f.join(""),t.length%3){case 1:s=s.slice(0,-2)+"==";break;case 2:s=s.slice(0,-1)+"="}return s}function xe(t){var n,e,r,i,o="";for(n=e=0,r=(t=(t+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,i=0;i<r;i++){var a=t.charCodeAt(i),c=null;a<128?e++:c=127<a&&a<2048?String.fromCharCode(a>>6|192,63&a|128):String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128),null!==c&&(n<e&&(o+=t.substring(n,e)),o+=c,n=e=i+1)}return n<e&&(o+=t.substring(n,t.length)),o}var qe=window.btoa,Ce=Se;jn("btoa",!!window.btoa),jn("atob",!!window.atob);try{ie(qe)&&qe(xe(en))===Se(en)&&(Ce=function(t){return qe(xe(t))},zn("using window.btoa"))}catch(t){zn(t)}var Ne=Ce;function Ie(t,n){var e=t||"fn_"+parseInt(1e6*me());return Ae[e]=n,e}var Ae={},Oe=function(t,n){if(Ae[t])try{Ae[t](n)}catch(t){}};function De(){return++window._lxsdk_seq}window._lxsdk_seq=window._lxsdk_seq||0;var Te,Ee,Pe=Zt.JSON;function je(t){return Te[t]||"\\u"+(t.charCodeAt(0)+65536).toString(16).substr(1)}var Me,Ve=Pe=Pe||{parse:function(t){return new Function("return ("+t+")")()},stringify:(Te={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},Ee=/[\\"\u0000-\u001F\u2028\u2029]/g,function t(n){if(null==n)return"null";if(oe(n))return isFinite(n)?n.toString():"null";if(function(t){return ee(t,"boolean")}(n))return n.toString();if(ae(n)){if(ie(n.toJSON))return t(n.toJSON());if(ce(n)){for(var e="[",r=0;r<n.length;r++)e+=(r?", ":"")+t(n[r]);return e+"]"}if(ae(n)){var i=[];for(var o in n)n.hasOwnProperty(o)&&i.push(t(o)+": "+t(n[o]));return"{"+i.join(", ")+"}"}}return'"'+n.toString().replace(Ee,je)+'"'})},Le="__lxsdk_";try{Me=Zt.localStorage}catch(t){Me=null}function Re(t){return Le+t}function Je(){return{length:0,_data:{},setItem:function(t,n){return this.length++,this._data[t]=String(n)},getItem:function(t){return this._data.hasOwnProperty(t)?this._data[t]:fn},removeItem:function(t){return this.length--,delete this._data[t]},clear:function(){return this.length=0,this._data={}},key:function(t){var n=[],e=this._data;return fe(e,function(t){ue(e,t)&&n.push(t)}),n[t]}}}var Be={get:function(t){t=Re(t);var n=Me.getItem(t);return n=fn!==n?Ve.parse(n):n},set:function(t,n){try{return Me.setItem(Re(t),Ve.stringify(n))}catch(t){}},keys:function(){for(var t,n=[],e=0;e<Me.length;e++)0===(t=Me.key(e)).indexOf(Le)&&n.push(t.replace(Le,""));return n},del:function(t){try{return Me.removeItem(Re(t))}catch(t){}},clear:function(){for(var t=this.keys(),n=0;n<t.length;n++)this.del(t[n])}};if(Me){if(Me){var Ue="___lxtest";Be.nt=!0;try{Be.set(Ue,1),1!==Be.get(Ue)?Be.clear():Be.del(Ue)}catch(t){try{Be.clear(),Me.setItem(Ue,1),Me.removeItem(Ue)}catch(t){Me=Je(),Be.nt=!1}}}}else Me=Je(),Be.nt=!1;var We={},Xe=function(t,n){if(We[t])try{We[t](n),sn(function(){delete We[t]},0)}catch(t){}},Ke=function(t,n){var e=function(t){var n="fn_"+parseInt(1e6*me());return We[n]=t,n}(t);return sn(function(){Xe(e,{code:-1,status:408,type:"overtime"})},oe(n)&&n||2e3),e};function Fe(t){return t}function $e(t){try{t(Ye(this,He),Ye(this,ze))}catch(t){if(this._state===Ge)return nr(new $e(Fe),ze,t)}}$e.prototype.then=function(t,n){return function(t,n,e,r){ne(e)===Ze&&(n._onFulfilled=e);ne(r)===Ze&&(n._onRejected=r);t._state===Ge?t[t._pCount++]=n:tr(t,n);return n}(this,new $e(Fe),t,n)},$e.all=function(d){return new $e(function(r,e){for(var i,t,n,o,a=0,c=d.length,u=[],s=0,f=function(e){return function(t){if(e.value=t,e.state=He,++s===e.len&&!i){var n=function(t){var n=[];for(a=0;a<c;a++)n.push(t[a]?t[a].value:void 0);return n}(u);r(n)}}},l=function(n){return function(t){n.value=t,n.state=ze,s++,i||(i=!0,e(t))}};a<c;a++)n=t=void 0,n=d[a],o={value:null,index:a,state:null,len:c},u.push(o),t=o,n.then?n.then(f(t),l(t)):$e.resolve(n).then(f(t),l(t))})},$e.resolve=function(n){if(n instanceof $e)return n;if(ie(n.then)){var e=n.then.bind(n);return new $e(function(t,n){e(t,n)})}return new $e(function(t){t(n)})},$e.reject=function(e){return new $e(function(t,n){n(e)})};var ze=0,He=1,Ge=2,Ze="function",Qe="object";function Ye(n,e){return function(t){return nr(n,e,t)}}function tr(e,r){return setTimeout(function(){var t,n=e._state?r._onFulfilled:r._onRejected;if(void 0!==n){try{t=n(e._value)}catch(t){return void nr(r,ze,t)}er(r,t)}else nr(r,e._state,e._value)})}function nr(t,n,e){if(t._state===Ge){t._state=n,t._value=e;for(var r=0,i=t._pCount;r<i;)tr(t,t[r++]);return t}}function er(n,t){if(t!==n||!t){var e,r=ne(t);if(null===t||r!==Ze&&r!==Qe)nr(n,He,t);else{try{e=t.then}catch(t){return void nr(n,ze,t)}ne(e)===Ze?function(n,e,t){try{t.call(e,function(t){e&&(e=null,er(n,t))},function(t){e&&(e=null,nr(n,ze,t))})}catch(t){e&&(nr(n,ze,t),e=null)}}(n,t,e):nr(n,He,t)}return n}nr(n,ze,new Error("promise_circular_chain"))}$e.prototype._state=Ge,$e.prototype._pCount=0;var rr,ir,or,ar,cr=se(Zt.Promise)?Zt.Promise:$e,ur=!an&&Zt.indexedDB,sr=Zt.IDBFactory,fr=ur&&ie(ur.open)&&ur.constructor===sr,lr=!1,dr=60*(parseInt(En.cacheRetryMinutes)||5),vr=!1,pr=0,gr=!1;function hr(){return new cr(function(n){if(gr)return n({reason:0});if(vn||qn)return gr=!0,n({reason:1});if(!fr)return gr=!0,n({reason:2});if(lr)return n();try{(rr=ur.open("_lxsdk_db",1e3)).onsuccess=function(t){zn("reportCache: db open succeed"),lr=!0,ir=t.target.result,n()},rr.onupgradeneeded=function(t){ir=t.target.result,(or=ir.createObjectStore("cache",{keyPath:"id",autoIncrement:!0})).createIndex("evs","evs",{unique:!1}),or.createIndex("type","type",{unique:!1})}}catch(t){gr=!(lr=!1),n({reason:3})}})}function mr(){hr().then(function(t){if(!t){zn("reportCache: start checking db...");var e=ir.transaction(["cache"],"readwrite").objectStore("cache"),n=e.openCursor(),r=[];n.onsuccess=function(t){var n=t.target.result;n?(r.push(n.value),n.continue()):(pr=r.length,zn("reportCache: sending data..."+r.length+" "),r.forEach(function(t){!function(t){if(zn("reportCache: send indexedDB Cache: ",t),"get"===t.type){var n=Math.random();be("//".concat(dt,"/?d=").concat(Ne("["+t.evs+"]"),"&t=1&r=").concat(n,"&_lxsdk_rnd=").concat(n),"get","application/json").send()}else try{window.navigator.sendBeacon("//postreport.meituan.com",JSON.stringify(t))}catch(t){}}(t),e.delete(t.id)}))}}})}hr();var yr,_r,wr,br,kr,Sr,xr,qr,Cr,Nr={add:function(e,r){hr().then(function(t){if(!t){var n=ir.transaction(["cache"],"readwrite").objectStore("cache");100<pr&&n.clear(),e.forEach(function(t){t.evs.forEach(function(t){t[X]=t[X]||{},t[X].fc=1}),n.add({type:r,evs:JSON.stringify(t)})})}})},size:function(){},check:mr,startPoll:function(){!vr&&fr&&(vr=!0,ar=+new Date,hr().then(function(t){t||sn(function t(){var n="_lxsdk_rc_img",e=Zt[n]=new Image;e.onload=function(){mr(),vr=!1,Zt[n]=null},e.onabort=e.onerror=function(){+new Date-ar>1e3*dr||(setTimeout(t,6e3),Zt[n]=null)},e.src="//".concat(dt,"/?r=").concat(Math.random())},6e3)}))}},Ir=(yr=!("undefined"==typeof window||!window.navigator||!window.navigator.userAgent),_r={getDefaultSender:function(){var i=Function.prototype,t=Ar(),n=Or(t),e=n.titansx||n.titansnox||"0";/ios|iphone|ipod|ipad/.test(t)?i=0<=Tr(e,"11.26")?Pr:Er:/android/.test(t)&&(i=0<Tr(n.android,"4.2.0")?jr:Mr);return function(t,n,e){var r="js://_?method="+t+"&callbackId="+e+"&args="+encodeURIComponent(n);i(r,t,n,e)}},compareVersion:Tr,parseUserAgent:Or,canUseSlot:function(){var t=Or(Ar());return 0<=Tr(t.titansx||t.titansnox,"11.13")}()},wr=_r.getDefaultSender,br=_r.compareVersion,kr=_r.parseUserAgent,Sr=_r.canUseSlot,xr="function"==typeof Symbol&&"symbol"===In(Symbol.iterator)?function(t){return In(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":In(t)},qr={sender:null},function(t){"undefined"!=typeof window&&(qr.sender=wr(),window.KNBCore||(window.KNBCore=t))}(Cr={bindSender:function(t){"function"==typeof t&&(qr.sender=t)},sendMessage:function(t,n,e,r,i){var o=Sr&&r?"KNBSlot"+r:void 0;!function(t){var n=t||"DPApp";if(window[n]&&window[n].KNBCore)return;var e={dequeue:window[n]&&window[n].dequeue||Function.prototype,KNBCore:!0,callback:Lr};window[n]=function(t,n){if(t&&"object"===(void 0===t?"undefined":xr(t))){var e=t;return Object.keys(n).forEach(function(t){e[t]=n[t]}),e}return n}(window[n],e)}(o);var a=function(t){if(!/^[a-zA-Z0-9]*$/.test(t))throw new Error("illegal slot name");if("undefined"==typeof window)throw new Error("[KNB-Core Error] window is not defined");if(window.__TITANS_COUNT=window.__TITANS_COUNT||1,"number"==typeof window.__TITANS_COUNT)return++window.__TITANS_COUNT+(t?"_"+t:"");throw new Error("[KNB-Core Error] __TITANS_COUNT invalid!")}(o),c=Vr(a),u=e||{},s=setTimeout(function(){"function"==typeof window[c]&&window[c]({status:"timeout"})},i||2e3);window[c]=function(t){var n=0<arguments.length&&void 0!==t?t:{};clearTimeout(s);var e=n.status,r="action"===e?"handle":e;"0"===String(r)&&(r="success"),"handle"!==r&&"success"!==r&&"timeout"!==r&&(r="fail");var i=u[r]||Function.prototype;if("function"==typeof i)return i(n)},u.handle||u.timeout||(window[c].isSafeDelete=!0);if(qr.sender)try{qr.sender(t||"",JSON.stringify(n||{}),a)}catch(error){window[c]({status:"fail",errorMsg:error.message,errorCode:error.code||21})}},fireCallback:Lr,compareVersion:br,parseUserAgent:kr}),Cr);function Ar(){return yr?navigator.userAgent.toLowerCase():""}function Or(t){for(var n={},e=t.replace(/\([^)]+\)/g,"").split(/\s+/),r="",i=0;i<e.length;i+=1){var o=e[i],a=o.lastIndexOf("/");if(a<0)r=o;else{var c=o.slice(0,a);r&&(c=r+" "+c,r=""),n[c]=o.slice(a-o.length+1)}}return n}function Dr(t){var n=t||"0",e=n.match(/^(\d*)/);return e?Number(e[1]):0}function Tr(t,n){for(var e="string"==typeof t?t.split("."):["0"],r="string"==typeof n?n.split("."):["0"],i=Math.max(e.length,r.length),o=0;o<i;o+=1){var a=Dr(e[o]),c=Dr(r[o]);if(c<a)return 1;if(a<c)return-1}return 0}function Er(t){var n=-1,e=document.createElement("iframe");function r(){if(clearTimeout(n),e){var t=e.parentNode;t&&t.removeChild(e),e.onload=null,e.onerror=null,e=null}}e.style.display="none",e.onload=r,e.onerror=r,e.src=t,document.documentElement.appendChild(e),n=setTimeout(r,3e3)}function Pr(t,n,e,r){try{window.webkit.messageHandlers.titans.postMessage({method:n,args:e,callbackId:r})}catch(error){Er(t)}}function jr(t){if(window.KNBTitansX&&window.KNBTitansX.sendMessage)window.KNBTitansX.sendMessage(t);else{if(10240<t.length)throw new Error("too large bridge data");window.prompt(t)}}function Mr(t){if(10240<t.length)throw new Error("too large bridge data");window.prompt(t)}function Vr(t){return"DPApp_callback_"+t}function Lr(t,n){var e=Vr(t),r=window[e];r&&(r(n),r.isSafeDelete&&(window[e]=void 0))}var Rr,Jr,Br=window.navigator.userAgent,Ur=(/titans(no){0,1}x/i.test(Br)||/ knb\/\d+/i.test(Br))&&/mobile/i.test(Br),Wr=!1,Xr=[];function Kr(t){Ur?Wr?t(Rr,Jr):(Xr.push(t),Wr?t(void 0,Jr):new cr(function(t){t({ready:function(t){return t()},use:function(t,n){n=n||{},Ir.sendMessage(t,{data:n.data||{}},n,"LXAnalyticsSDK")}}),Wr=!0}).then(function(t){var n=Jr=t;!function(n,e){Xr.forEach(function(t){t(n,e)}),Xr=[]}(Rr,n)})):t(5,Jr)}var Fr=500,$r="getUserInfo";function zr(){return new cr(function(i,o){Kr(function(t,n){var e=Zt.DPApp,r=sn(function(){i({})},Fr);n?n.ready(function(){n.use($r,{success:function(t){un(r),i(function(t){var n={},e=t[S];return e&&"0"!==e||"dp"!==t.type?t[S]&&(n[S]=t[S]):n[S]=t[p],"dp"!==t.type&&t[p]&&(n[p]=t[p]),t.unionId&&(n.unionId=t.unionId),t.userId&&(n.userId=t.userId),n}(t))},fail:function(){un(r),o({code:at})}})}):e&&e[$r]?e.ready(function(){e[$r]({success:function(t){un(r);var n={};(t.dpid||t.userId)&&(n.dpid=t.dpid,n.userId=t.userId,n.unionId=t.unionId),i(n)},fail:function(t){un(r),o({code:ot,res:t})}})}):o({code:ot})})})}var Hr=/__lxvalidation=([\w.]+)/i;function Gr(){var t=location.search.match(Hr)||[],n=function(){var t=te.get(a);if(t){var n=t.split("|");return{mis:n[0],env:n[1]||""}}return t||{}}(),e=t&&t[1]||n.mis||"";e&&(te.top(a,e+"|",10),En.debug=e)}var Zr,Qr=y+"_source",Yr=y+"_medium",ti=y+"_term",ni=y+"_campaign",ei=y+"_content",ri=!1;function ii(t){if(!t)return fn;var e=fn,r=/^utm_(source|medium|term|content|campaign)$/;return fe(t,function(t,n){r.test(n)&&((e=e||{})[n]=t)}),e}function oi(t){if(t){var n=pe(Zr=t);return te.del(M,tn),te.top(M,n,Gt,tn),!0}return!1}function ai(t,n){return(Zr||ri)&&!t||(t=t||Qt.href,n=n||Yt.referrer,(Zr=function(t){return ii(ve(t))}(t)||function(t){var n=fn,e=t.match(/^[\w-]+:\/\/([^/]+)(?:\/([^?]+)?)?/),a=e&&e[1];if(a){var c=ve(t),r="daum:q eniro:search_word naver:query pchome:q images.google:q google:q yahoo:p msn:q bing:q aol:query aol:q lycos:q lycos:query ask:q cnn:query virgilio:qs baidu:wd baidu:word alice:qs yandex:text najdi:q seznam:q rakuten:qt biglobe:q goo.ne:MT search.smt.docomo:MT onet:qt onet:q kvasir:q terra:query rambler:query conduit:q babylon:q search-results:q avg:q comcast:q incredimail:q startsiden:q go.mail.ru:q centrum.cz:q 360.cn:q sogou:query tut.by:query globo:q ukr:q so.com:q haosou.com:q auone:q m.baidu:word wap.baidu:word baidu:word Baidu:bs www.soso:w wap.soso:key www.sogou:query wap.sogou:keyword m.so:q m.sogou:keyword so.com:pq youdao:q sm.cn:q sm.cn:keyword haosou:q".split(" "),u="",s="";fe(r,function(t){var n=t.split(":"),e=n[0],r=n[1],i=c[r],o=-1<e.indexOf(".")?e:"."+e+".";if(-1<a.indexOf(o.toLowerCase())&&(s=e,u=i))return!1}),s&&((n={})[Qr]=s,n[Yr]="organic",u&&(n[ti]=u))}return n}(n))?oi(Zr):Zr=function(){var t=te.get(M);return l.test(t)?ii(re(t)?ve(t):null):Zr}(),Zr||oi(Zr=function(){var o,t=te.get("__utmz"),n=t&&t.match(/(utmc(tr|sr|cn|md|ct))=([^|()]+)/g);return n&&fe(n,function(t){var n,e=t.split("="),r=e[0],i=e[1]||"";"utmcsr"===r?n=Qr:"utmccn"===r?n=ni:"utmcmd"===r?n=Yr:"utmcct"===r?n=ei:"utmctr"===r&&(n=ti),n&&((o=o||{})[n]=i)}),o}()),ri=!0),Zr}var ci,ui="tag",si=18e5;function fi(t,n,e,r,i,o){var a={};a.c=t,a.k=n,a.v=e,a.t=r||+new Date,a.u=i||"",a.r=o||"",this.toJSON=function(){return de(!0,{},a)}}function li(){return ci}var di={set:function(t,n,e){var r,i=[],o=Be.get(ui)||[];if(!re(n)||""===n)return!1;for(var a=0,c=o.length;a<c;a++)vi(r=o[a])||(t===r.c?n!==r.k&&i.push(r):i.push(r));return r=new fi(t,n,e,+new Date),i.push(r.toJSON()),Be.set(ui,i),!0},get:function(t,n){var e,r=Be.get(ui);if(r&&r.length)return e={},fe(r,function(t){var n={};n[t.k]=t.v,vi(t)||(e[t.c]=de(!0,e[t.c]||{},n))}),t&&n?e[t]&&e[t][n]:t?e[t]:e},getAll:function(t){var e,n=Be.get(ui),r=li()||Be.get(Kt),i={};return!t&&r&&(i=de(e=!0,i,r)),fe(n,function(t){var n;!vi(t)&&t.v&&(e=!0,(n={})[t.k]=t.v,i[t.c]=de(!0,i[t.c],n))}),e&&i},clear:function(n,e){if(Be.set(Kt,[]),ci={},!n)return Be.set(ui,[]);if(re(n)){var t=Be.get(ui),r=[];fe(t,function(t){(e!==fn&&t.k!==e||n!==t.c)&&r.push(t)}),Be.set(ui,r)}}};function vi(t){return si<he()-t.t}var pi="__lxsdk_params",gi={ua:en,ct:""},hi=!(gi[qt]="5.1.1"),mi={s:h,l:v,a:x,w:I,lch:"lch",u:{us:n,um:r,uc:i,ucp:w,ut:_},se:Ut,sc:T,v:E,uni:q,di:S,ui:p,wxi:"wxunionid"},yi=["tag",h,v,x,I,"lch",Ut,T,E,q,S,p,"wxunionid","v"],_i=[n,r,i,w,_],wi=t+"wxenv_",bi=[qt,"ua"],ki=null;function Si(t){var n={};if(l.test(t)){var e=ve(t);if(e[p]&&(n[p]=e[p]),e[m]&&(n[m]=e[m]),e[k]&&(n[b]=e[k]),e._lx_tag)try{var r=e._lx_tag.replace(/\*/g,"+").replace(/_/,"/").replace(/\./g,"=");!function(t){ci=de(!0,{},t)}(JSON.parse(function(t){for(var n="",e=0,r=0,i=0,o=0;e<t.length;)(r=t.charCodeAt(e))<128?(n+=String.fromCharCode(r),e++):191<r&&r<224?(o=t.charCodeAt(e+1),n+=String.fromCharCode((31&r)<<6|63&o),e+=2):(o=t.charCodeAt(e+1),i=t.charCodeAt(e+2),n+=String.fromCharCode((15&r)<<12|(63&o)<<6|63&i),e+=3);return n}(atob(r))))}catch(t){}if(e[pi]){var i=e._lx_ver,o={};try{if(i){var a,c=Gn(Gn(e[pi])).replace(/\*/g,"+").replace(/_/,"/").replace(/\./g,"=");fe(atob(c).split(";"),function(t){var n=t.split(":"),e=n.shift(),r=n.join(":");if(r)if(0<=_i.indexOf(e))(a=a||{})[e]=r;else{if(yi.indexOf(e)<0)try{r=atob(r)}catch(t){}else"v"===e&&(e=E);o[e]=r}}),a&&(o[y]=a),o[Ut]||(o[Ut]=Wt)}else{hi=!0;var u,s=Gn(Gn(e[pi])).split(";"),f=mi.u;fe(s,function(t){var n=t.split(":"),e=n.shift(),r=n.join(":");if(r)if(f[e])(u=u||{})[f[e]]=r;else{if(!mi[e])try{r=atob(r)}catch(t){}o[e]=r}}),u&&(o[y]=u),o.se||(o.se="online")}}catch(t){}n[N]=o}return n}return n}function xi(){var t,n=dn===s||dn===u||Sn||kn,e=function(){var t=io(),n=te.get("iuuid")||te.get(p)||t,e=ao(0),r=oo(),i=te.get(V)||te.get(S),o={};return n&&(o[p]=n),e&&(o[h]=e),t&&(o[v]=t),r&&(o[b]=r),i&&(o[S]=i),o}(),r={};n&&(r=Si(Qt.href)),(t=de(e,r)).ct=gn;var i=ai();i&&(t[y]=i);var o=io();t[v]=o,t[p]||(t[p]=o);var a=Ci();re(a)&&(t[x]=a);var c=function(){var t=en.replace(/^.*([A-Za-z-]+)\/com\.(sankuai(?!\.meituan\.)|meituan(?!\.sankuai\.)|dianping|sankuai\.meituan|meituan\.sankuai)\.([.A-Za-z0-9-]+)\/(\d+[.\d]+).*$/,"$4");return/^\d+(\.\d+)+$/.test(t)?t:null}();return c&&(t.app=c),t}function qi(n){return function(t){var e=t;return n!==t&&(e=de(n,t)),e.dpid&&e.uid?e:zr().then(function(t){var n={};return t.dpid&&(n.dpid=t.dpid,t.userId&&(n.uid=""+t.userId),t.unionId&&(n.union_id=t.unionId)),e=de(e,n)},function(){return e})}}function Ci(t){var n=En[x],e=dn,r=Yt.domain,i=En.nt;return vn?n||(2===i?t:e||r):n||(e||r)}function Ni(t,c,u){return u=u||{},new cr(function(o,a){sn(function(){a({code:it})},3e3),Ti(t,"getEnv",{},{},function(t,n){if(t)zn("\u4e0enativeSDK\u63e1\u624b\u5931\u8d25\uff0c\u5c06\u4f7f\u7528http\u4e0a\u62a5"),a(t);else if(ki=En.nativeSDKVer=n[qt],function(){var t=En.nativeSDKVer;re(t)&&(Tn.MVL=-1<we(t,"4.14.0"),Tn.QR=-1<we(t,"4.14.0"),Tn.getReqId=-1<we(t,"4.12.0"))}(),u.origin)o(n);else{ue(En,jt)&&"off"===En[jt]||Rn(et);var e={uuid:p,msid:h,uid:b,dpid:S,appnm:x,union_id:q};for(var r in c=c||{},e){var i=e[r];n[r]&&(c[i]=n[r])}zn("\u4e0enativeSDK\u63e1\u624b\u6210\u529f\uff0c\u542f\u7528nativeSDK \u4ee3\u62a5"),o(c)}})})}function Ii(t){Gr();var o=xi();if(Nn()){var n=Ni(t,o);return e===dn&&(n=n.then(qi(o),function(){return qi(o)()})),n.then(function(t){var n=Ci(t[x]),e=t[S],r=t[q],i=t;return t!==o&&(i=de(o,t)),re(n)&&(i[x]=n),e&&te.top(V,e,1576800),r&&te.top("_lxsdk_unoinid",r,1576800),i},function(t){return o})}var a=de(!0,{},o),c=a[N];return function(){var e=he();return new cr(function(t){if(Sn||kn)if(/miniProgram/i.test(en))t(!0);else if(Zt.WeixinJSBridge&&Zt.WeixinJSBridge.invoke)t("miniprogram"===Zt.__wxjs_environment);else{var n=setTimeout(function(){En.wx_t=he()-e,t(!1)},5e3);Yt.addEventListener("WeixinJSBridgeReady",function(){un(n),En.wx_t=he()-e,t("miniprogram"===Zt.__wxjs_environment)})}else t(!1)})}().then(function(t){if(En.inWXMP=t){if(En.nt=kn?7:6,"object"===In(Yn)&&!ae(c))for(var n in c={},Yn)if(0===n.indexOf(wi)){var e=n.slice(wi.length),r=Yn[n];if(e===y)try{c[y]=JSON.parse(r)}catch(t){}else c[e]=r}var i=function(t){var n=t;hi&&(n=mi[n]||n);var e=c[t];e&&(a[C]=a[C]||{},a[n]&&(a[C][n]=a[n]),le(bi,function(t){return t===n})||(a[n]=e));try{Yn.setItem(wi+n,ae(e)?JSON.stringify(e):e)}catch(t){zn(t)}};for(var o in c)i(o)}return delete a[N],cr.resolve(a)})}function Ai(t,n,e){if(ae(t))for(var r in e=!!n,t)Ai(r,t[r],e);else!e&&En.inWXMP&&ae(gi[C])?gi[C][t]=n:gi[t]=n}var Oi=function(t){return re(t)?gi[t]:gi},Di=3e3;function Ti(t,n,e,r,i){if("setEvs"!==n||function(t,n){var e=!0;re(t)||(e=!1);var r=n.web_cid,i=n.val_bid,o=n.val_lab;if((r&&!re(r)||i&&!re(i)||o&&!ae(o))&&(e=!1),!e){var a=Oi(),c="toNative-paramError-"+a[x];Li(Qt.href,c,a[p]||a[v],JSON.stringify({cn:t,evs:n}),!0)}return e}(t,e)){var o={cb:"_lx"+(100*he()+ye++),mn:n,cn:t,data:e||{},options:r||{},ver:4};return zn("toNative:",t,n,o),Kr(function(t,n){if(t)return i(!1,t);var e=!1,r=sn(function(){i(e=!0,it)},Di);n.use("lxlog",{data:"statistics://_lx/?data="+encodeURIComponent(JSON.stringify(o)),success:function(t){if(un(r),!e)if("success"===t.status){var n=t.data||{};try{re(n)&&(n=JSON.parse(n)),i(!1,n.data?n.data:t)}catch(t){i(!0,t)}}else i(!0,ct)},fail:function(){un(r),e||i(!0,ct)}})})}}var Ei,Pi=0,ji=[],Mi=[],Vi=!1;an||ie(nn.sendBeacon);function Li(t,n,e,r,i){if(!(0<=en.indexOf("Mozilla/5.0 (Windows NT 6.1; WOW64; rv:43.0) Gecko/20100101 Firefox/43.0"))){var o=[{project:"com.sankuai.analytics.web5",pageUrl:Qt.href,resourceUrl:t,category:i?"jsError":"ajaxError",sec_category:"staging_v5_"+n,level:"error",unionId:e,timestamp:he(),content:""+r||""}],a=be("//catfront.51ping.com/api/log?v=1",c,"application/x-www-form-urlencoded");a&&(a.onerror=a.onreadystatechange=function(){},a.send("c=".concat(encodeURIComponent(JSON.stringify(o)))))}}function Ri(){if(!(0<=en.indexOf("Mozilla/5.0 (Windows NT 6.1; WOW64; rv:43.0) Gecko/20100101 Firefox/43.0"))&&function(t){return Math.ceil(Math.random()*t)===t}(100)){var t={kvs:{initTimes:[1]},tags:{},ts:parseInt((new Date).getTime()/1e3)},n=be("https://catfront.dianping.com/api/metric?p=com.sankuai.analytics.web5&v=1",c,"application/x-www-form-urlencoded");n&&(n.onerror=n.onreadystatechange=function(){},n.send("data=".concat(encodeURIComponent(JSON.stringify(t)))))}}function Ji(t,n){return Ui(t,n)}function Bi(){if(Ei){var t=Mi.concat([]);clearTimeout(Ei),ji.length&&Ui(ji,{cb:function(){var n=arguments;fe(t,function(t){t.apply(fn,n)})}}),Ei=null,ji=[],Mi=[]}}function Ui(t,n){n=n||{},rt===Ln()?Xi(t,n):Wi(t,n)}var Wi=function(t,e,r){(e=e||{})[g]=e[g]||En[d];var n={shouldCoverCid:!0,needCachePD:!!En.nativeAutoPD};Ti(e[g],"setEvs",t,n,function(t,n){ie(r)&&r(t,n),e&&e.cbkey&&Xe(e.cbkey,{code:t?pt:vt})})},Xi=function(t,n){var e=(n=n||{}).type,r=Jn(lt);Vi=!xn&&!En.use_post;try{"sendBeacon"===e?Fi(r,t,n):Vi?function(e,r){r=r||{};var i,o,t=he().toString(16)+Pi++,a=Jn(lt),c=!1,u=function(t){var i=[],o=[{l:qt,s:Ct},{l:mt,s:yt},{l:_t,s:wt},{l:bt,s:kt},{l:Nt,s:It},{l:St,s:xt}];return fe(t,function(t){var n=de(!0,{},t);fe(o,function(t){Zi(n,t.l,t.s)});var r=[];fe(t.evs,function(e){fe(e=de(!0,{},e),function(t,n){-1<n.indexOf("val_")&&(e[n.replace("val_","")]=e[n],delete e[n]),Zi(e,"refer_url","urlr")}),r.push(e)}),n.evs=r,n[It]===n.uuid&&delete n.uuid;var e=n[wt];e&&(n[wt]=e.replace("data_sdk_","")),delete n.ua,i.push(n)}),i}(e);if(fe(u,function(t){o=t.uuid||t.lxid,delete t.ua}),!function(t){for(var n=t.length,e=n,r=0;r<n;r++){127<t.charCodeAt(r)&&e++}return 1.5*e<_e}(i=JSON.stringify(u)))return fe(e,function(t){fe(t.evs,function(t){var n=t.val_lab;t.val_lab=de(!0,{custom:{_s:1}},n||{})})}),Ki(a,e,r);var n=Ne(i),s=Zn(n),f=Jn(dt);Hi(f=(f+=-1<f.indexOf("?")?"&d="+s:"?d="+s)+"&t=1&r="+t,null,{method:"get",cb:function(t,n){r&&r.cbkey&&Xe(r.cbkey),t!==st&&(Fi(a,e),En.onNetworkFailRetry&&(Nr.add(u,"get"),Nr.startPoll()),c||(c=!0,Li(location.host+location.pathname,"ajax-get-"+t+"-"+n,o,i)))}})}(t,n):Ki(r,t,n)||an&&function(t,n,e){{if(!Zt.XDomainRequest)return!1;try{var r=new XDomainRequest;return r.open(c,Gi(t),!0),r.onload=function(){e&&e.cb(st,200,"IEXDR-post")},r.onerror=r.ontimeout=function(){e&&e.cb(ft,0,"IEXDR-post"),Fi(t,n)},r.timeout=5e3,r.send(JSON.stringify(n)),!0}catch(t){return!1}}}(r,t,n)||Fi(r,t,n)&&n.cb(st)}catch(t){return Li(Qt.path,"report-ajax",0,t.message,!0),!1}return!0};function Ki(n,e,t){if(!zi)return!1;var r=de(!0,t,{cb:function(t){t!==st&&(Fi(n,e),En.onNetworkFailRetry&&(Nr.add(e,"post"),Nr.startPoll()),Li(location.host+location.pathname,"ajax-post-"+t+"-"+status,"",JSON.stringify(e)))}});return Hi(n,e,r),!0}function Fi(t,n,e){var r=nn.sendBeacon;return zn(t,n),!!r&&(fe(n,function(t){fe(t.evs,function(t){t[X]=de(!0,{},t[X]),t[X].beacon="1"})}),t=Gi(t),r&&r.call(nn,t,JSON.stringify(n)),void(e&&e.cbkey&&Xe(e.cbkey)))}var $i,zi=($i=Zt.XMLHttpRequest)&&"withCredentials"in new $i;function Hi(t,n,e){if(!zi)return!1;var r=e&&e.method||c,i=be(t,r,"text/plain"),o=!1;return i.onreadystatechange=function(){if(4===i.readyState){var t,n=i.status;if(200<=n&&n<400)t=vt;else{if(o)return;o=!0,t=pt}e&&e.cbkey&&Xe(e.cbkey,{code:t}),ie(e.cb)&&e.cb(t),i.onreadystatechange=null}},i.onerror=function(){o||(o=!0,e&&e.cbkey&&Xe(e.cbkey,{code:pt}),ie(e.cb)&&e.cb(ft))},i.send(r===c&&JSON.stringify(n)||null),!0}function Gi(t){var n="_lxsdk_rnd="+(he().toString(16)+Pi);return-1===t.indexOf("?")?t+"?"+n:t+"&"+n}function Zi(t,n,e){return ue(t,n)&&t[n]&&(t[e]=t[n],delete t[n]),t}Ie("pageDisappear",Bi),Ie(Jt,function(){!0,Bi()});var Qi,Yi=function(){var t=(screen.height*screen.width).toString(16);return to()+"-"+Math.random().toString(16).replace(".","")+"-"+function(){var t,n,i=[],e=0;function r(t,n){var e,r=0;for(e=0;e<n.length;e++)r|=i[e]<<8*e;return t^r}for(t=0;t<en.length;t++)n=en.charCodeAt(t),i.unshift(255&n),4<=i.length&&(e=r(e,i),i=[]);return 0<i.length&&(e=r(e,i)),e.toString(16)}()+"-"+t+"-"+to()};function to(){for(var t=1*new Date,n=0;t===1*new Date&&n<200;)n++;return t.toString(16)+n.toString(16)}function no(){return Math.floor(1+65535*me()).toString(16).substring(1)}function eo(){var t=[],n=+new Date;return t.push(n.toString(16)),t.push(no()),t.push(no()),t.push(no()),t.join("-")}var ro,io=function(){var n,t={mem:Qi,cookie:te.get(P),ls:Be.get(P),ss:Yn&&Yn.getItem(P)};for(var e in t)t[e]&&(n=t[e]);for(var r in n=n||Yi(!0),t)if(!t[r])switch(r){case"mem":Qi=n;break;case"cookie":te.top(P,n,1576800);break;case"ls":try{Be.set(P,n)}catch(t){Li(location.href,"",n,t.stack||t.message,!0)}break;case"ss":try{Yn&&Yn.setItem(P,n)}catch(t){Li(location.href,"",n,t.stack||t.message,!0)}}return n},oo=function(){return te.get("uid")||te.get("userid")},ao=function(t){var n=co(),e=En.sessionScope,r=te.get(n);return r||(r=[eo(),R,R,"0"].join(""),"sub"===e?te.set(n,r,ut,Yt.domain):te.top(n,r,ut)),oe(t)?r.split(R)[t]:r.split(R)};function co(){var t=Yt.domain;return"sub"===En.sessionScope?j+"_"+t:j}var uo,so=(uo="_lxsdk_test",Qn.set(uo,"1"),!(-1<Yt.cookie.indexOf(uo)&&(Qn.del(uo),1))),fo=function(){if(so)return ro=ro||0,++ro;var t=co(),n=En.sessionScope,e=function(){var t=0,n=ao(2);return isNaN(n)||(t=parseInt(n)),t<0?0:t}();e=e||0;var r=lo(fn,fn,++e);return"sub"===n?te.set(t,r,ut,Yt.domain):te.top(t,r,ut),e},lo=function(t,n,e){var r=[],i=ao(null);return r.push(t||i[J]),r.push(n||i[1]),r.push(oe(e)?e:i[2]),r.join(R)};function vo(){var t=te.get(L);if(t){var n=t.split(","),e=/^\d+\.\d{5,}$/;return 3!==n.length?null:e.test(n[0])&&e.test(n[1])?{lat:n[0],lng:n[1],tm:n[2]}:null}return null}var po={},go=Zt.onbeforeunload;function ho(r){var t=(r=r||{})[g],i=r.now||he(),o=Ln(),a=po;re(t)&&((a={})[t]=po[t]||{},delete po[t]),fe(a,function(t,n){if(t.evs){var e=t.evs[0];e[At]={duration:i-e.tm,custom:{}},e.nm=F,e.tm=i,e[O]=r[O]||Rt,e[X]=de(!0,{m_seq:De(),trackerid:e.val_tid},Mn()),o===rt?(e.seq=fo(),Ji([t])):(fe({web_req_id:e.web_req_id,web_sdk_ver:"5.1.1",lxcuid:io(),web_appnm:Oi(x)},function(t,n){re(t)&&(e[At].custom[n]=t)}),Wi(t.evs,{category:n})),delete a[n]}})}function mo(t){Oe(Jt),En.autoPD&&(ho(),Oe(zt,{withUnload:!0}),t&&go&&!Zt.addEventListener&&go(t))}function yo(t,n){po[t]=de(!0,{},n)}function _o(t){ho(t)}rn&&pn?Zt.addEventListener("pagehide",mo):Zt.addEventListener?Zt.addEventListener("beforeunload",mo):Zt.onbeforeunload=mo;var wo,bo=5e3,ko=50,So={MVL:{}};function xo(t,n,e,r){r=r||{};var i=n.category,o=e[A],a=e[Dt],c=r.tag;if(So[t]&&re(t)&&re(i)&&re(o)&&re(a)){var u="".concat(i,"_").concat(o,"_").concat(a);zn(u);var s=So[t];ae(s[u])||(s[u]={env:de(!0,{},n),evs:e,lab:[]}),ae(c)&&(s[u].evs.tag=c);var f=de(!0,e.val_lab,{_seq:e.seq,_tm:e.tm});s[u].lab.push(f),function(){var t=0;for(var n in So){var e=So[n];for(var r in e){var i=e[r].lab;t+=i.length||0}}ko<t&&No()}()}}function qo(t,n){var e=(n||{}).withUnload,r=So[t];if(ae(r)){var i=[];for(var o in r){var a=r[o],c=!1;if(a.lab&&a.lab.length){var u=a.env,s=a.evs,f={mv_list:a.lab,custom:{_withUnload:!!e}};s.val_lab=f;for(var l=0,d=i.length;l<d;l++){var v=i[l];if(!Co(v,u)){v.evs.push(s),c=!0;break}}c||(u.evs=[s],i.push(u))}}i.length&&(Ui(i),zn("[moduleViewList]:resolved:".concat(t))),So[t]={}}}function Co(t,n){var e=0,r=0;for(var i in t)ue(t,i)&&e++;for(var o in n)ue(n,o)&&r++;var a=r<e?t:n,c=e<=r?t:n;for(var u in a){if(!(-1<"evs|".indexOf(u+"|")))if(ae(a[u])&&ae(c[u])){if(Co(a[u],c[u]))return!0}else if(a[u]!==c[u])return!0}return!1}function No(t){var n=(t||{}).withUnload;for(var e in So)qo(e,{withUnload:n})}function Io(t){return Yn&&ie(Yn.getItem)?Yn.getItem(t):te.get(t)}function Ao(t,n){return Yn&&ie(Yn.setItem)?Yn.setItem(t,n):te.top(t,n,ut)}function Oo(t){Ao(U,t)}function Do(){var t=Io(U);return t||""}function To(t){Ao(B,t)}function Eo(){var t=Io(B);return t||""}function Po(){var t=En[d];sc(t)}sn(function t(){un(wo);try{No()}catch(t){zn(t)}finally{if(Ln()===rt){var n=bo;oe(En.MVLDuration)&&(n=En.MVLDuration),wo=sn(t,n)}else un(wo)}},100),Ie(zt,No),window._lxsdk_ms=window._lxsdk_ms||"mem_"+eo(),jn("m_msid",window._lxsdk_ms);var jo="lat",Mo="lng",Vo="wi",Lo="wf",Ro="ji",Jo="jf";function Bo(t,n){var e=An(t.toString().split("."),2),r=e[0],i=e[1],o=An(n.toString().split("."),2),a=o[0],c=o[1];return{wi:r=999*+r,wf:i=i?i.replace(/3/g,"c").replace(/7/g,"g").replace(/9/g,"i"):"0",ji:a=777*+a,jf:c=c?c.replace(/2/g,"b").replace(/4/g,"d").replace(/6/g,"f"):"0"}}var Uo,Wo,Xo,Ko=5e3,Fo={overlen_cutoff:1},$o=Qo.prototype,zo={},Ho=Yt.referrer,Go=0,Zo=[];function Qo(t,n){zn("constructor",t,n);var e=this;re(t.opts)&&(t.opts={cid:t.opts});var r=de(!0,{},t.opts);if(!re(r.cid))if(re(En[o]))zn(Bt,"\u672a\u6307\u5b9acid\uff0c\u5c06\u4f7f\u7528\u9ed8\u8ba4cid:"+En[o]+"\u4e0a\u62a5"),r.cid=En[o];else if(!r.isLX4)return e.status=ht,error(Bt,"\u672a\u6307\u5b9acid\uff0c\u5c06\u4e0d\u4f1a\u521b\u5efaPV\u5b9e\u4f8b");var i=r.cid;e.opts=r,e.lab=t.lab||{},e.env=t.env||{},e.category=e.env[g]=t.category,e.evs={},e.evs[A]=ta(!0),e.evs[D]=e.cid=i,e.evs.val_tid=t.tid,e.evs[X]=de(!0,{api:r.isLX4?"v4":"v5",trackerid:t.tid},Mn()),e._onPD=[],e.opts._noPV||(Yo.apply(e),Go++),e.status=gt}function Yo(t){t=t||{};var n=this,e=n.lab,r=n.opts,i=n.cid,o=rt===Ln(),a=t.fromWA,c=t.withlab,u=Ke(t.callback,t.callbackTimeout),s=t.isAutoInit;if(a&&c?e=n._cpi||{}:n._cpi=e,i||n.cid||!a){if(_o({category:n[g]}),o){var f=ea(n),l=di.getAll(),d=oa(f,ra.call(n,K,null,e,de(!0,t,n.opts)),l,r);Ji([d],{category:n[g],nm:K,cbkey:u}),yo(n[g],d)}else{var v=re(n[g])&&n[g]||n.env[g],p=ia.call(n,K,null,e,de(!0,t,{fromWA:a}));Oo(i),To(Uo),Wi([p],{category:v},function(){}),yo(n[g],{evs:[p]})}n.currentEvs={cid:i,req_id:ta(),refer_cid:Do(),refer_req_id:Eo()},n._ptpvs=s?Rt:Lt}}function ta(t){return!t&&Uo||(Uo=he().toString(16)+"-"+Math.floor(65535*me())+"-"+Math.floor(65535*me())),Uo}function na(t){if(t){var n="data_sdk_";return 0!==t.indexOf(n)&&(t=n+t),t}}function ea(t){var n=de(!0,{},Oi()),e=oc.getTracker(t[g])("get"),r=de(!0,{},t.env),i=de(!0,de(!0,de(!0,{},n),e),r);i[g]=na(i[g]||"");var o=ao(J);En.inWXMP&&ae(i[C])?i[C][h]=o:i[h]=o;var a=i.utm,c={ua:en,ch:a&&a.utm_source?a.utm_source:"web",sc:cn,sdk_env:En.isDev?"offline":"online"};c[qt]=f,En.debug&&(c._misid=En.debug);var u=de(!0,c,i);return En.isDev||En._isWXDev?u[Ut]=Xt:u[Ut]=Wt,u}function ra(t,n,e,r){var i=fo(),o=vo();r=r||{};var a,c=K===t,u=de(!0,{nm:t,tm:this.tm||he(),nt:En.nt,seq:i,isauto:r[O]||Lt},this.evs),s=u[X];if(s.m_seq=De(),e=e||{},re(r.cid)&&(u[Ot]=r.cid),c){var f=Qt.href;u.url=f,(a=Ho)&&(u.refer_url=a),Ho=f,e=ca(e,"_lx_cv","staging")}if(r.isStatement&&(s.isStatement=!0),n&&(u[Dt]=n),En.geo){var l=Bo(En.geo.lat,En.geo.lng);u[Vo]=l.wi,u[Lo]=l.wf,u[Ro]=l.ji,u[Jo]=l.jf}else if(o){var d=Bo(o[jo],o[Mo]);u[Vo]=d.wi,u[Lo]=d.wf,u[Ro]=d.ji,u[Jo]=d.jf}if(e){var v=JSON.stringify(e).length;if(Ko<=v&&((e=Fo).overlen_length=v),(u[At]=e)[jo]&&e[Mo]){var p=Bo(e[jo],e[Mo]);u[Vo]=p.wi,u[Lo]=p.wf,u[Ro]=p.ji,u[Jo]=p.jf}delete u[At].lat,delete u[At].lng}return u}function ia(t,n,e,r){var i,o=(r=r||{}).fromWA,a=r.isauto||Lt,c=this.cid,u=Oi(x),s=vo(),f=!Bn,l={nm:t,tm:he(),nt:et,isauto:a,val_cid:c,val_tid:this.evs.val_tid,shouldCover:f};l[X]=de(!0,{trackerid:this.evs.val_tid},Mn()),l=de(!0,l,zo),Wo&&(l.req_id=Wo);var d,v=de(!0,{},e||{});if(K===t){var p=Qt.href;d={ua:en,url:p,_fromWA:!!o};var g=ai();g&&g.utm_source&&(d.utm=g),(i=Ho)&&(d.refer_url=i),a===Lt&&(Ho=p)}else d={};if(l=de(l,{web_cid:c,web_req_id:ta(),web_refer_cid:Do(),web_refer_req_id:Eo(),web_first_pv:!!(Go<1&&Zt.history&&1===Zt.history.length)}),fe({web_req_id:ta(),web_sdk_ver:"5.1.1",lxcuid:io(),web_appnm:u},function(t,n){re(t)&&(d[n]=t)}),re(r.cid)&&(l[Tt]=r.cid),r.cpi&&!v.page&&(v.page=r.cpi),v.custom=de(!0,v.custom,d),s){var h=Bo(s.lat,s.lng);l[Vo]=h.wi,l[Lo]=h.wf,l[Ro]=h.ji,l[Jo]=h.jf}if(n&&(l[Dt]=n),v){var m=JSON.stringify(v).length;Ko<=m&&((v=Fo).overlen_length=m)}return l[At]=v,delete l[At].lat,delete l[At].lng,l}function oa(t,n,e,r){var i=(r=r||{}).category,o=r.cid;return re(i)&&(t[g]=na(i)),re(o)&&(n[Ot]=o),ce(n)||(n=[n]),e&&fe(n,function(t){t.tag=e}),t.evs=n,t}function aa(t,n,e){return(t=t||{})[n]=e,t}$o.setLab=function(t,n){if(re(t)){this.lab=this.lab||{},this.lab[t]=n}},$o.getLab=function(t,n){if(!re(t))return ie(n)&&n(this.lab),this.lab;for(var e=this.lab,r=t.split("."),i=e;r.length&&(i=i[r.shift()]););return ie(n)&&n(i),i},$o.setCid=function(t){re(t)&&(this.cid=this.evs[Ot]=t)},$o.getEvsInfo=function(t){var n={req_id:this[A],cid:this[D]};return ie(t)&&t(n),n},$o.moduleView=function(t,n,e){zn("mv",t,e),e=de(!0,{},e);var r=Ke(e.callback,e.callbackTimeout),i=parseInt(En.mvDelay||e.delay),o=e.category,a=re(o)&&o||this[g];if(Ln()===rt){var c=ea(this),u=di.getAll(),s=ra.call(this,"MV",t,n,e);if(!re(o)&&oe(i)&&0<i)Zo.push(s),Xo=Xo||sn(function(){fe(Zo,function(t){t[X]&&(t[X].md=i)}),Ui([oa(c,Zo,u,e)],{cbkey:r}),Zo=[],Xo=null},1e3*parseInt(i));else Ji([oa(c,s,u,e)],{cbkey:r})}else{var f=ia.call(this,"MV",t,n,e);Wi([f],{category:a},function(){})}},$o.moduleViewList=function(t,n,e){zn("mvl",t,e);var r=this,i=(e=e||{}).category,o=re(i)&&i||r[g];if(Ln()===rt){var a=ea(r),c=di.getAll(),u=ra.call(r,"MVL",t,n,e);a[g]=o,xo.call(r,"MVL",a,u,{tag:c})}else{var s=ia.call(r,"MVL",t,n,e);Wi([s],{category:o},function(){})}},$o.moduleEdit=function(t,n,e,r){zn("me",e),e=de({},e);var i=Ke(e.callback,e.callbackTimeout),o=e.category,a=re(o)&&o||this[g];if(Ln()===rt){var c=ea(this),u=di.getAll();Ji([oa(c,ra.call(this,r||"ME",t,n,e),u,e)],{cbkey:i})}else{var s=ia.call(this,r||"ME",t,n,e);Wi([s],{category:a},function(){})}},$o.moduleClick=function(t,n,e){zn("mc",t,n,e);var r=this,i=(e=de({},e)).category,o=re(i)&&i||r[g],a=Ke(e.callback,e.callbackTimeout),c=e.isLeave,u=e.withPageInfo&&ae(r._cpi)?r._cpi:fn;if(Ln()===rt){var s=ea(r),f=di.getAll(),l=ra.call(r,"MC",t,n,e);u&&aa(n,"page",r._cpi),Ji([oa(s,l,f,e)],{cbkey:a})}else{var d={};r._cpi&&(d.cpi=r._cpi);var v=ia.call(r,"MC",t,n,de(!0,e,d));Wi([v],{category:o},function(){})}c&&(_o(),Oo(r.cid),To(Uo))},$o.order=function(t,n,e,r,i){zn("order",r);var o=(r=de({},r)).category,a=re(o)&&o||this[g],c=Ke(r.callback,r.callbackTimeout);if(e=aa(e,"order_id",n),Ln()===rt){var u=ea(this),s=di.getAll();Ui([oa(u,ra.call(this,i||"BO",t,e,r),s,r)],{cbkey:c})}else{var f=ia.call(this,i||"BO",t,e,r);Wi([f],{category:a},function(){})}},$o.pay=function(t,n,e,r){zn("pay",r),this.order(t,n,e,r,"BP"),di.clear()},$o.systemCheck=function(t,n,e){zn("sc",e),this.moduleEdit(t,n,e,"SC")},$o.pageDisappear=function(t){0!==Go&&(_o({isauto:(t=t||{})[O]||Lt,category:this[g],now:t.pdTime||null}),fe(this._onPD,function(t){try{t(this)}catch(t){}}))},$o.onDisappear=function(t){ie(t)&&this._onPD&&this._onPD.push(t)},$o._pv=function(){this.cid&&(this.evs[A]=ta(!0),Yo.apply(this,[{fromWA:!0,isauto:Rt}]))};var ca=function(t,n,e){if(e){var r={},i={custom:r};r[n]=e,t=de(!0,t||{},i)}return t},ua=["_pv","_pd"],sa=[];function fa(o){return function(t){var n=t[0],e=t[1],r=Xn.shift.call(n);if(!le(ua,function(t){return t===r})&&ie(o[r])){o.tm=e;var i=o[r].apply(o,n);return o.tm=fn,i}}}function la(n){var e=[];fe(sa,function(t){t!==n&&e.push(t)}),sa=e}function da(a){var c,e={};function u(){var t=arguments,n=t[0],e=t[t.length-1];if(n===$){var r=new Qo({lab:t[1],env:t[2],opts:t[3],tid:u.id,category:a});if(r.status===ht)return fn;var i=fa(r);if((c=r).onDisappear(la),sa.push(r),function(t){return t&&ce(t.q)&&ie(t)}(e)){var o=e.q;ce(o)&&fe(o,i),e.q.push=i}return function(){i([arguments])}}if(ie(u[n]))return t=Xn.slice.call(t,1),u[n].apply(u,t)}return u.c=a,u.id=[parseInt(1e8*me()),parseInt(1e8*me()).toString(16).toUpperCase()].join("-"),u.set=function(n,t){if(le(Ft,function(t){return t===n}))return zn("set",n," \u5931\u8d25\uff1a\u7981\u6b62\u8bbe\u7f6e\u8be5\u503c");(n!==g||t)&&re(n)&&(e[n]=t)},u.get=function(t){return re(t)?e[t]:e},u._getCPV=function(){return c},u.getCurrentPageCase=function(){if(!c)return fn;var t=fa(c);return function(){t([arguments])}},u}var va,pa,ga,ha,ma,ya,_a,wa=!0,ba=!1,ka=0,Sa="color:red;font-size:16px;",xa=function(){ac();var t=sc();for(var n in t){var e=t[n]._getCPV();e&&e._pv()}},qa=function(t){var n=sc();for(var e in n){var r=n[e]._getCPV();r&&r.pageDisappear({isauto:Rt,pdTime:t})}};function Ca(){wa=!0,!En[Et]?Po():xa()}function Na(t){wa=!1,En[Et]&&(qa(t),No())}function Ia(){wa&&(!!En[Et]?xa():Po())}function Aa(){!wa||En[Et]&&(qa(),No())}var Oa=!!/\d+\.\d+\.\d+/.test(bn)&&0<=we(bn,"11.3.0");function Da(t,n){re(t)&&(n=ie(n)&&n||function(){},(_a=window.KNB)&&ie(_a.subscribe)&&_a.subscribe({action:t,handle:function(){zn("%c trigger "+t,Sa),n()},success:function(){zn("%c handshake "+t,Sa)},fail:function(t){}}))}var Ta,Ea,Pa,ja=Zt._MeiTuanALogObject,Ma=Zt[ja],Va=Ma("getTracker","testCategory"),La=Va===Ma||Va===fn,Ra=[],Ja=tc("lx:cid"),Ba=tc("lx:category"),Ua=tc("lx:appnm"),Wa=tc("lx:defaultAppnm"),Xa=tc("lx:autopv"),Ka=tc("lx:mvDelay"),Fa=tc("lx:native-report");if(La)if(En.isLX4=!0,function(){if(vn&&!Ua&&Wa&&"off"===tc("lx:native-report"))return!0;if(ie(window.Analytics)&&"s"===window.Analytics.name)return!0;return!1}()){var $a=Yt.createElement("script");$a.setAttribute("async","true"),$a.src="//lx.meituan.net/lx.js",(Yt.body||Yt.head).appendChild($a),En.isUsingV4JS=!0}else{for(var za=[],Ha=[],Ga=Ma,Za=Ga&&ce(Ga.q)?Ga.q:[],Qa=0,Ya=Za.length;Qa<Ya;Qa++)"config"===Za[Qa][0]?za.push(Za[Qa]):Ha.push(Za[Qa]);Ra=za.concat(Ha),Ga.q=[[["config",{defaultCategory:Ba,appName:Ua}]],[["config",{nativeReport:Fa,mvDelay:Ka}]]],En._lx4=!0}function tc(t){for(var n=Yt.getElementsByTagName("meta"),e=0,r=n.length;e<r;e++)if(n[e].getAttribute("name")===t)return n[e].getAttribute("content")}Ma.q=Ma.q||[],Ma.q.push([["onLoad",function(t){zn("commander",Ta=t);var e=[];fe(Ra,function(t){var n=t[0];"set"===n||"config"===n?Ta.apply(Ta,t):e.push(t)});var n=Ta.getConfig(),r=Ja||n[o];if(Ea=Ta(W,Ba),!La)return;Pa=Ea($,null,null,{isLX4:!0,cid:r,isauto:6,_noPV:"off"===Xa||!r}),fe(e,function(t){Ta.apply(Ta,t)})}],+new Date]);var nc=Array.prototype,ec={},rc=[],ic=!1,oc=function t(){var n=arguments,e=n[0];if(e===W)return t[W](n[1]);if(ie(t[e])){if(!En._lx4||"get"!==e)return nc.shift.call(n),t[e].apply(t,n);!function(t,n,e){var r={env:e.get()};if(Pa){var i=Ea("_getCPV").evs;r.currentEvs={cid:i[Ot],req_id:i[A]},n(e.get(t),r)}else r.currentEvs={}}(n[1],n[2],t)}else re(e)&&function(t){return-1<[$,Q,Y,G,Z,tt,nt,H,z].join("|").indexOf(t)}(e)&&function(t,n,e,r,i){if(Ea){var o=re(r)&&r||ae(r)&&re(r.cid)&&r.cid;if(t===$)Pa=Ea($,n,e,de(!0,{isLX4:!0,cid:o||Ja},r));else{if(!Pa){var a=de(!0,{isLX4:!0,_noPV:!0},r);a.cid=Ja,Pa=Ea($,null,null,a)}Pa(t,n,e,r,i)}}else Ra.push(arguments)}.apply(window,n)};function ac(){Un(!1),function(n){var r={none:!0};return new cr(function(e){try{var t=we(ki,"4.12.0");!ki||!oe(t)||t<0?e(r):n&&dn||Nn()?Ti(n,"getReqId",{},{},function(t,n){e(t?r:n)}):e(r)}catch(t){e(r),Li("sdk","api-error","",t.stack,!0)}})}(En[d]).then(function(t){var n=t||{},e=n.val_ref,r=n.req_id,i=n.refer_req_id,o=!!(r||e||i);r&&oc._setRequestID(r),e&&oc._setNativeEvsData("val_ref",e),i&&oc._setNativeEvsData("refer_req_id",i),Un(o)})}oc.onLoad=function(t){if(ie(t))if(ic)try{t(oc)}catch(t){}else rc.push(t)},oc.set=function(n,t,e){zn("set",n,t);var r=Oi(),i=En.inWXMP&&ae(r[C]);if(ae(n))fe(n,function(t,n){oc.set(n,t)});else if(re(n)){if(le(Ft,function(t){return t===n}))return zn("set",n," \u5931\u8d25\uff1a\u7981\u6b62\u8bbe\u7f6e\u8be5\u503c");!e&&i&&r[C][n]?r[C][n]=t:r[n]=t,y===n&&ae(t)&&(i||oi(t)),Ai(n,t)}},oc.setGeoLocation=function(t,n){if(null!==t){if(oe(t)&&oe(n))n=n.toString(),t=t.toString();else if(!/^\d+\.\d+$/.test(t)||!/^\d+\.\d+$/.test(n))return;En.geo={lat:n,lng:t}}else En.geo=null},oc.get=function(t,n){var e=Oi(re(t)?t:null);return ie(n)&&n(e),e},oc.getNative=function(e,r){var i=this;vn?Ni(En[d],fn,{origin:!0}).then(function(t){var n=re(e)?t[e]:t;r(n,i._dt)},function(){r()}):r()},oc.getTracker=function(t){t=t||En[d];var n=ec[t];if(n)return n;zn("commander.getTracker: createTrackerInstance:",t);var e=new da(t);return ec[t]=e},oc.getPage=function(t,n,e){t=t||{},n=n||{};var r=e.cid||En[o],i=e.category||En[d];if(re(r)&&re(i))return oc.getTracker(i)($,t,n,e)},oc.getBase64WebTag=function(t,n){var e=(n=n||{}).full,r=de(!0,{},di.getAll(!e)),i=Ne(JSON.stringify(r))||"";i=i.replace(/\+/g,"*").replace(/\//,"_").replace(/=/g,"."),ie(t)&&t(i)},oc.config=function(t,n){if(ie(t))return t(En);if(ae(t))for(var e in t)oc.config(e,t[e]);else if(("isDev"!==t||!En._lockSDKENV)&&(zn("config",t,n),re(t)&&(En[t]=n),"appName"===t&&Ai(x,n),t===jt)){var r=Ln();Rn("off"===n?rt:r)}},oc.getConfig=function(t){return re(t)?En[t]:En},oc._setRequestID=function(t){!function(t){Wo=t}(t)},oc._setNativeEvsData=function(t,n){!function(t,n){zo[t]=n}(t,n)},oc.tag=function(e,t,n,i){var r;zn("tag",e,t,n);function o(t){if(!ae(t))return t;for(var n=t,e=0,r=f.length;e<r;e++){if(!n)return n;n=n[f[e]]}return n}function a(){fe(s,function(t){if(!re(t))return!1;f.push(t)})}function c(t,n,e){var r={};r[t]=n,Ti(En[d],"setTag",r,{},function(t,n){i&&(e&&a(),i(t,o(n),!0))})}function u(t){var n=di.getAll();t||a(),i&&i(0,o(n),!1)}var s=arguments,f=[];if(fe(s,function(t){ie(t)&&(i=t)}),ae(e)){var l=this;fe(e,function(t,n){l.tag(n,t)})}else re(e)&&ae(t)?rt!==Ln()?c(e,r=t,!0):(fe(t,function(t,n){di.set(e,n,t)}),u(!0)):(ae(n)||re(n))&&re(e)&&re(t)?rt!==Ln()?((r={})[t]=n,c(e,r,!0)):(di.set(e,t,n),u(!0)):ie(e)||ie(t)||re(e)&&re(t)&&ie(n)?rt!==Ln()?(a(),Ti(En[d],"getTag",{},{},function(t,n){i&&i(t,o(n),!0)})):u():i&&i(-1)},oc.clearTag=function(t,n,e){var r=0;rt===Ln()?(ie(t)&&(e=t,t=fn),di.clear(t,n),e&&e(0)):r=-1,e&&e(r)};function cc(){vn?function(){try{Da("appear",Ca),Da("disappear",Na),Oa&&(Da("foreground",Ia),Da("background",Aa))}catch(t){Li("sdk","api-error","",t.stack,!0)}}():function(){if(Mt in Yt&&"onresize"in Zt){Yt[Mt]!==Vt&&(ma=he());var n=parseInt(En.onVCGap)||0;n=1e3*Math.max(n,2),ge(Yt,"visibilitychange",function(){En.onVisibilityChangeAutoPV&&(Yt[Mt]===Vt?pa=sn(function(){ba||Yt[Mt]===Vt&&he()-ma>=n&&(un(ga),xa())},1e3):(ma=he(),ga=sn(function t(){ba||Yt[Mt]!==Vt&&(he()-ma>=n?(un(pa),qa(ma)):ga=sn(t,1e3))},1e3)))}),ge(Zt,"resize",function(){ba=!0,un(va),va=sn(function(){ba=!1},2e3)}),ge(Zt,"focus",function(){En[Pt]&&1!==ka&&(he()-ya>=n?(zn("window focus\uff0c\u53d1\u9001\u81ea\u52a8PV"),xa()):un(ha))}),ge(Zt,"blur",function(){En[Pt]&&sn(function(){Yt[Mt]===Vt?(ka=2,ya=he(),ha=sn(function(){zn("window blur\uff0c\u53d1\u9001\u81ea\u52a8PD"),qa(ya)},n)):ka=1},100)})}}()}var uc,sc=function(t){return t?oc.getTracker(t):ec},fc=document.createElement("div"),lc="MutationObserver",dc="childList",vc="subtree",pc="attributes",gc="WebKitMutationObserver",hc="DOMNodeInserted",mc="DOMNodeRemoved",yc="getComputedStyle",_c="getAttribute",wc="autoEventParams",bc=[Zt[lc]||Zt[gc],Zt[yc],fc.getBoundingClientRect,fc.querySelectorAll,Object.defineProperty],kc="lx-config",Sc="lx-nm",xc=1e3,qc=[];function Cc(){zn("\u58f0\u660e\u5f0f\u57cb\u70b9: \u68c0\u67e5DOM\u4f4d\u7f6e...");var r=0;return fe(qc,function(t){var n=t[0],e=t[1];n&&e&&(!function(t){var n=Zt.innerWidth||Yt.documentElement.clientWidth,e=Zt.innerHeight||Yt.documentElement.clientHeight,r=t.getBoundingClientRect(),i=Zt[yc](t,null).display;if(!i||"none"===i)return!1;if(r.left<0&&-r.left>r.width/2)return!1;if(r.top<0&&-r.top>r.height/2)return!1;if(r.left+r.width/2>n)return!1;if(r.top+r.height/2>e)return!1;return!0}(n)||(n.marked?r++:(n.marked=!0,Nc(e,G),zn(n))))}),r<qc.length}function Nc(t,n){var e=t.category,r=t.cid,i=t.bid,o=t.lab,a=t.orderid,c=sc(e);if(c){var u=c.getCurrentPageCase();if(u=u||c($,null,null,{cid:r,isauto:Rt,_noPV:!0})){var s={isStatement:!0};r&&(s.cid=r);var f=En[wc];if(f){var l={};ae(f)?l=f:re(f)?l=JSON.parse(f):ie(f)&&(l=f(n,i,a)),o=de(!0,o||{},l)}a?u(n,i,a,o,s):u(n,i,o,s)}}}function Ic(t){var l=[],d=!1;fe(t,function n(t){var e,r=t.type;if(r===dc||r===vc){var i=t.addedNodes;if(i&&i.length){if(1<i.length)return void fe(i,function(t){n({type:r,addedNodes:[t]})});r=hc,e=t.addedNodes[0]}else t.removedNodes&&t.removedNodes.length&&(r=mc,e=t.removedNodes[0])}else r===pc&&(r=pc,e=t.target);if(r===hc&&e.children&&e.children.length){var o=[];fe(e.children,function(t){1===t.nodeType&&o.push({target:e,addedNodes:[t],type:dc})}),ke(function(){Ic(o)})}if(Ac(e,"mv")){for(var a=0,c=qc.length;a<c;a++)if(qc[a][0]===e&&qc[a][0].marked)return;if(r===hc||r===pc){var u=e[_c]&&e[_c](kc);if(!u)return;try{l.push([e,JSON.parse(u)]),d=!0}catch(t){return}}else if(r===mc)try{for(var s=0,f=qc.length;s<f;s++)if(qc[s][0]===e){qc.splice(s,1);break}}catch(t){}}}),l.length&&(qc=qc.concat(l)),d?Oc():qc.length||Dc()}function Ac(t,n){var e=t[_c]&&t[_c](Sc);return e&&0<=e.indexOf(n)}function Oc(){Dc(),zn("\u58f0\u660e\u5f0f\u57cb\u70b9: \u542f\u52a8\u8f6e\u8be2..."),uc=sn(function t(){Cc()?uc=sn(t,xc):zn("\u58f0\u660e\u5f0f\u57cb\u70b9: \u5df2\u7f13\u5b58\u7684dom\u7686\u5df2\u4e0a\u62a5\uff0c\u505c\u6b62\u8f6e\u8be2")},xc)}function Dc(){null!==uc&&(zn("\u58f0\u660e\u5f0f\u57cb\u70b9: \u505c\u6b62\u8f6e\u8be2..."),un(uc),uc=null)}function Tc(t){var n=function t(n,e){var r=n;return r&&r!==Yt.body&&r.parentNode?e(r)?r:t(r.parentNode,e):fn}(t.target,function(t){if(t&&t[_c])return(Ac(t,"mc")||Ac(t,"me"))&&t[_c](kc)});if(n)try{var e=n[_c](Sc),r=JSON.parse(n[_c](kc));switch(e){case"mc":Nc(r,Q);break;case"me":Nc(r,Y)}}catch(t){}}function Ec(){zn("\u58f0\u660e\u5f0f\u57cb\u70b9: \u517c\u5bb9\u6027\u68c0\u6d4b\u901a\u8fc7\uff0c\u521d\u59cb\u5316...");var n=!1,e=0;se(Yt.body.querySelectorAll)&&(fe(Yt.body.querySelectorAll("[".concat(Sc,"=mv][").concat(kc,"]")),function(n){var t,e=n[_c](Sc);try{t=JSON.parse(n[_c](kc))}catch(t){return void n[_c](kc)}0<=e.indexOf("mv")&&t.category&&t.bid&&t&&qc.push([n,t])}),qc.length&&ke(Cc)),zn("\u58f0\u660e\u5f0f\u57cb\u70b9: \u67e5\u8be2\u5168\u5c40\u8282\u70b9...",qc),function(){var t=Zt[lc]||Zt[gc],n={childList:!0,subtree:!0,attribute:!0,attributeFilter:[Sc]};if(ie(t))new t(Ic).observe(Yt.body,n);else if(Yt.body){var e=[],r=!1,i=function(t){r||(r=!0,ke(function(){Ic([].concat(e)),r=!(e=[])})),e.push(t)};Yt.body.addEventListener(hc,i),Yt.body.addEventListener(mc,i)}}(),zn("\u58f0\u660e\u5f0f\u57cb\u70b9: \u542f\u52a8\u76d1\u542c\u5668..."),qc.length&&Oc(),ge(Yt.body,"touchstart",function(){e=he()}),ge(Yt.body,"touchmove",function(){n=!0}),ge(Yt.body,"touchend",function(t){!n&&he()-e<150&&Tc(t),n=!1,e=0}),ge(Yt.body,"click",Tc)}Ie(Ht,function(){var n=!0;fe(bc,function(t){se(t)||(n=!1)}),n?"complete"===Yt.readyState||"interactive"===Yt.readyState?Ec():ge(Yt,"DOMContentLoaded",Ec):zn("\u58f0\u660e\u5f0f\u57cb\u70b9: \u517c\u5bb9\u6027\u68c0\u6d4b\u4e0d\u901a\u8fc7...")});var Pc="performance",jc="getEntries",Mc="pvid-"+parseInt(1e7*me())+"-"+parseInt(1e7*me());Zt&&Zt[Pc]&&Zt[Pc][jc]&&ie(Zt[Pc][jc])&&/\[native code\]/.test(Zt[Pc][jc].toString())&&fe(Zt[Pc][jc](),function(t){try{t&&"script"===t.initiatorType&&/(lx|analytics)\.meituan\.net/.test(t.name)&&(jn("stime",t.duration||t.responseEnd-t.startTime),jn("pvid",Mc))}catch(t){Li(Qt.href,"",Mc,t.stack||t.message,!0)}});var Vc="getPage",Lc=window;function Rc(t){var n=t.q,e=t.type,r=t.c,i=oc.getTracker(r);if(ce(n))if(e===Vc){var o=n.shift(),a=o[1],c=o[2],u=o[3],s=i($,a,c,u);n.push=function(t){s.apply(s,t[0])},n.length&&fe(n,function(t){var n=t[0];s.apply(s,n)})}else fe(n,n.push=function(t){var n=t[0],e=t[1];Xn.push.call(n,e),i.apply(i,n)})}window.addEventListener("error",function(t){}),En.isUsingV4JS||function(){zn(oc);var t=Lc._MeiTuanALogObject,n=Lc[t],e=[],a=[];Ii().then(function(t){Ai(t,!0),(Sn||kn)&&(En._isWXDev=t[Ut]===Xt);var n=li();n&&Be.set(Kt,n),sn(ac,1e3),sn(function(){ic=!0,fe(rc,function(t){try{t(oc)}catch(t){}}),En.onNetworkFailRetry&&Nr.check()},0)}).then(function(){n&&n.q?(e=n.q||[],n=Lc[t]=oc):Lc[t]=oc,ce(e)&&fe(e,function(t){zn("\u539f\u59cb\u547d\u4ee4",t);var n=t[0],e=t[1],r=n[0];if("config"===r)oc.config(n[1],n[2]);else if(r===W&&ie(e)){var i=n[1]||En[d];re(i)&&(e.c=i,a.push(e))}else if("getPage"===r){var o=(n[3]||{})[g]||En[d];re(o)&&(e.c=o,e.type=Vc,e.q.unshift(n),a.push(e))}else ie(oc[r])&&(Array.prototype.shift.call(n),oc[r].apply(oc,n))}),fe(a,Rc),Oe(Ht),cc()}),Ri(),e=fn}()}();
//# sourceMappingURL=lx.5.min.js.map
