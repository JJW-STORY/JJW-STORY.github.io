<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <title>Django-01 | JJW-STORY</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="keywords" content="JJW-STORY">
  
  <meta name="description" content="Djongo入门Djongo介绍Django是一个开放源代码的Web应用框架，由Python写成。采用了MTV的框架模式，即模型M，视图V和模版T。它最初是被开发来用于管理劳伦斯出版集团旗下的一些以新闻内容为主的网站的，即是CMS（内容管理系统）软件。并于2005年7月在BSD许可证下发布。这套框架是以比利时的吉普赛爵士吉他手Django Reinhardt来命名的。 Django是一个基于MVC">
<meta name="keywords" content="Python,Django">
<meta property="og:type" content="article">
<meta property="og:title" content="Django-01">
<meta property="og:url" content="https://jjw-story.github.io/2019/08/04/Django-01/index.html">
<meta property="og:site_name" content="JJW-STORY">
<meta property="og:description" content="Djongo入门Djongo介绍Django是一个开放源代码的Web应用框架，由Python写成。采用了MTV的框架模式，即模型M，视图V和模版T。它最初是被开发来用于管理劳伦斯出版集团旗下的一些以新闻内容为主的网站的，即是CMS（内容管理系统）软件。并于2005年7月在BSD许可证下发布。这套框架是以比利时的吉普赛爵士吉他手Django Reinhardt来命名的。 Django是一个基于MVC">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-08-05T09:23:05.959Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Django-01">
<meta name="twitter:description" content="Djongo入门Djongo介绍Django是一个开放源代码的Web应用框架，由Python写成。采用了MTV的框架模式，即模型M，视图V和模版T。它最初是被开发来用于管理劳伦斯出版集团旗下的一些以新闻内容为主的网站的，即是CMS（内容管理系统）软件。并于2005年7月在BSD许可证下发布。这套框架是以比利时的吉普赛爵士吉他手Django Reinhardt来命名的。 Django是一个基于MVC">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  <script src="/js/pace.min.js"></script>
  

  
  

</head>
</html>
<body>
  <div id="container">
      <header id="header">
    <div id="banner"></div>
    <div id="header-outer">
        <div id="header-menu" class="header-menu-pos animated">
            <div class="header-menu-container">
                <a href="/" class="left">
                    <span class="site-title">JJW-STORY</span>
                </a>
                <nav id="header-menu-nav" class="right">
                    
                    <a  href="/">
                        <i class="fa fa-home"></i>
                        <span>Home</span>
                    </a>
                    
                    <a  href="/archives">
                        <i class="fa fa-archive"></i>
                        <span>Archives</span>
                    </a>
                    
                    <a  href="/about">
                        <i class="fa fa-user"></i>
                        <span>About</span>
                    </a>
                    
                </nav>
                <a class="mobile-header-menu-button">
                    <i class="fa fa-bars"></i>
                </a>
            </div>
        </div>
        <div id="header-row">
            <div id="logo">
                <a href="/">
                    <img src="/images/logo.png" alt="logo">
                </a>
            </div>
            <div class="header-info">
                <div id="header-title">
                    
                    <h2>
                        JJW-STORY
                    </h2>
                    
                </div>
                <div id="header-description">
                    
                    <h3>
                        技术记录
                    </h3>
                    
                </div>
            </div>
            <nav class="header-nav">
                <div class="social">
                    
                        <a title="JJW-STORY" target="_blank" href="//jjw-story.github.io">
                            <i class="fa fa-home fa-2x"></i></a>
                    
                        <a title="Github" target="_blank" href="//jjw-story.github.io">
                            <i class="fa fa-github fa-2x"></i></a>
                    
                        <a title="Weibo" target="_blank" href="/暂不开放">
                            <i class="fa fa-weibo fa-2x"></i></a>
                    
                        <a title="Twitter" target="_blank" href="/暂不开放">
                            <i class="fa fa-twitter fa-2x"></i></a>
                    
                </div>
            </nav>
        </div>
    </div>
</header>
      <div class="outer">
        <section id="main" class="body-wrap"><article id="post-Django-01" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="post-title" itemprop="name">
      Django-01
    </h1>
    <div class="post-title-bar">
      <ul>
          
              <li>
                  <i class="fa fa-book"></i>
                  
                      <a href="/categories/Python/">Python</a>
                  
              </li>
          
        <li>
          <i class="fa fa-calendar"></i>  2019-08-04
        </li>
        <li>
          <i class="fa fa-eye"></i>
          <span id="busuanzi_value_page_pv"></span>
        </li>
      </ul>
    </div>
  

          
      </header>
    
    <div class="article-entry post-content" itemprop="articleBody">
      
            
            <h1 id="Djongo入门"><a href="#Djongo入门" class="headerlink" title="Djongo入门"></a>Djongo入门</h1><h2 id="Djongo介绍"><a href="#Djongo介绍" class="headerlink" title="Djongo介绍"></a>Djongo介绍</h2><p>Django是一个开放源代码的Web应用框架，由Python写成。采用了MTV的框架模式，即模型M，视图V和模版T。它最初是被开发来用于管理劳伦斯出版集团旗下的一些以新闻内容为主的网站的，即是CMS（内容管理系统）软件。并于2005年7月在BSD许可证下发布。这套框架是以比利时的吉普赛爵士吉他手Django Reinhardt来命名的。</p>
<p>Django是一个基于MVC构造的框架。但是在Django中，控制器接受用户输入的部分由框架自行处理，所以 Django 里更关注的是模型（Model）、模板(Template)和视图（Views），称为 MTV模式，各自职责如下：</p>
<table>
<thead>
<tr>
<th>层次</th>
<th>职责</th>
</tr>
</thead>
<tbody><tr>
<td>模型（Model），即数据存取层</td>
<td>处理与数据相关的所有事务： 如何存取、如何验证有效性、包含哪些行为以及数据之间的关系等。</td>
</tr>
<tr>
<td>模板(Template)，即表现层</td>
<td>处理与表现相关的决定： 如何在页面或其他类型文档中进行显示。</td>
</tr>
<tr>
<td>视图（View），即业务逻辑层</td>
<td>存取模型及调取恰当模板的相关逻辑。模型与模板的桥梁</td>
</tr>
</tbody></table>
<p>Django 框架的核心组件及设计哲学：</p>
<ul>
<li><p>对象关系映射 (ORM,object-relational mapping)：以Python类形式定义你的数据模型，ORM将模型与关系数据库连接起来，你将得到一个非常容易使用的数据库API，同时你也可以在Django中使用原始的SQL语句。</p>
</li>
<li><p>URL 分派：使用正则表达式匹配URL，你可以设计任意的URL，没有框架的特定限定。像你喜欢的一样灵活。</p>
</li>
<li><p>模版系统：使用Django强大而可扩展的模板语言，可以分隔设计、内容和Python代码。并且具有可继承性。</p>
</li>
<li><p>表单处理：你可以方便的生成各种表单模型，实现表单的有效性检验。可以方便的从你定义的模型实例生成相应的表单。</p>
</li>
<li><p>Cache系统：可以挂在内存缓冲或其它的框架实现超级缓冲 －－ 实现你所需要的粒度。</p>
</li>
<li><p>会话(session)，用户登录与权限检查，快速开发用户会话功能。</p>
</li>
<li><p>国际化：内置国际化系统，方便开发出多种语言的网站。</p>
</li>
<li><p>自动化的管理界面：不需要你花大量的工作来创建人员管理和更新内容。Django自带一个ADMIN site,类似于内容管理系统</p>
</li>
</ul>
<h2 id="Djongo安装"><a href="#Djongo安装" class="headerlink" title="Djongo安装"></a>Djongo安装</h2><p>Djongo安装分为三步：</p>
<ol>
<li><p>安装 Python</p>
</li>
<li><p>安装 Python 虚拟环境</p>
</li>
<li><p>安装 Django</p>
</li>
</ol>
<ul>
<li><p>第一步不在赘述，注意使用Python3及以上版本</p>
</li>
<li><p>第二步安装虚拟环境的目的是为了解决电脑中的软件相互依赖，每个程序都要依赖某些其他程序，而且要找到运行其他软件的设置（环境变量），编写新软件程序时，可能（经常）要修改其他软件所需的依赖或环境变量，这一步可能会导致各种问题，因此要避免。</p>
</li>
</ul>
<p>Python 虚拟环境能解决这个问题。它把软件所需的全部依赖和环境变量包装到一个文件系统中，与电脑中的其他软件隔离开。</p>
<p>直接使用命令：<strong>pip install virtualenv</strong> 即可安装完成。</p>
<p>安装完成后执行命令：<strong>virtualenv env_mysite</strong>为我们自己的项目创建虚拟环境，注意env_mysite可以自定义，执行完成后我们发现在我们电脑家目录下就创建好了一个 <strong>\env_mysite</strong> 的文件夹，virtualenv 创建了一个完整的 Python 安装，它与其他软件是隔离开的，因此开发项目时不会影响系统中的其他软件。</p>
<p>我们需要激活此虚拟环境，使用命令：<strong>env_mysite\scripts\activate</strong>，激活后我们就可以使用此虚拟环境。</p>
<ul>
<li>第三步安装Djongo，直接在虚拟环境下执行命令：<strong>pip install django==1.8.13</strong>，即可安装Djongo1.8.13版本完成</li>
</ul>
<h2 id="新建Djongo项目"><a href="#新建Djongo项目" class="headerlink" title="新建Djongo项目"></a>新建Djongo项目</h2><p>在虚拟环境中执行<strong>django-admin startproject mysite</strong>，如果不使用虚拟环境，也可以自己找到项目位置，执行此命令创建项目。命令执行完成后我们看到Djongo为我们创建了如下文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysite/</span><br><span class="line">    manage.py</span><br><span class="line">    mysite/</span><br><span class="line">        __init__.py</span><br><span class="line">        settings.py</span><br><span class="line">        urls.py</span><br><span class="line">        wsgi.py</span><br></pre></td></tr></table></figure>

<ul>
<li><p>外层的mysite/ 根目录是项目的容器。这个目录的名称对 Django 没有什么作用，你可以根据喜好重命名。</p>
</li>
<li><p>manage.py 是一个命令行实用脚本，可以通过不同的方式与 Django 项目交互。</p>
</li>
<li><p>内部的mysite/ 目录是项目的 Python 包。导入这里面的内容时要使用目录的名称（如mysite.urls）。</p>
</li>
<li><p>mysite/init.py 是一个空文件，目的是让 Python 把这个目录识别为 Python 包。</p>
</li>
<li><p>mysite/settings.py 是 Django 项目的设置/配置。</p>
</li>
<li><p>mysite/urls.py 是 Django 项目的 URL 声明，即 Django 驱动的网站的“目录”。</p>
</li>
<li><p>mysite/wsgi.py 是兼容 WSGI 的 Web 服务器的入口点，用于伺服项目。</p>
</li>
</ul>
<p>这里说明一下settings文件，这是整个项目的配置和设置，我们发现Djongo框架本身已经帮我们创建好了一些项目，这是为常见场景所做的约定，具体看INSTALLED_APPS的配置（这里打开项目为大家讲解一下此文件的配置内容）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># Application definition</span><br><span class="line"># 注意：此处添加自己开发的应用</span><br><span class="line">INSTALLED_APPS = (</span><br><span class="line">    &apos;django.contrib.admin&apos;, # 管理后天</span><br><span class="line">    &apos;django.contrib.auth&apos;,  # 身份验证系统</span><br><span class="line">    &apos;django.contrib.contenttypes&apos;,  # 内容类型框架</span><br><span class="line">    &apos;django.contrib.sessions&apos;,  # 会话框架</span><br><span class="line">    &apos;django.contrib.messages&apos;,  # 消息框架</span><br><span class="line">    &apos;django.contrib.staticfiles&apos;,   # 管理静态文件的框架</span><br><span class="line">    &apos;cerealsOils&apos;,  # 自己开发的应用</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>使用这些项目我们需要在数据库中创建这些项目所需的表，执行命令即可自动创建：<strong>python manage.py migrate</strong>hibernate框架，通过实体类上使用注解，自动创建表。</p>
<p>这样我们的项目就创建完成了，使用命令：<strong>python manage.py runserver</strong>  就可以启动项目啦，默认端口为8000，我们访问就可以看到主页了。</p>
<h1 id="视图和URl配置"><a href="#视图和URl配置" class="headerlink" title="视图和URl配置"></a>视图和URl配置</h1><h2 id="创建视图函数"><a href="#创建视图函数" class="headerlink" title="创建视图函数"></a>创建视图函数</h2><p>创建视图需要在项目目录下新创建一个view.py文件，此文件中我们定义函数，返回给视图我们要展示的内容，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"># 从django.http 模块中导入HttpResponse 类。导入这个类是因为后面的代码要使用</span><br><span class="line">from django.http import HttpResponse</span><br><span class="line"></span><br><span class="line"># 视图函数，传入参数：jango.http.HttpRequest对象实例，注意此参数是视图函数必须的且是第一位的参数</span><br><span class="line"></span><br><span class="line"># 静态内容</span><br><span class="line">def hello(request):</span><br><span class="line">   # 返回 Hello World 给response</span><br><span class="line">    return HttpResponse(&quot;Hello World&quot;)</span><br><span class="line"></span><br><span class="line"># 动态内容</span><br><span class="line">def currentDatetime(request):</span><br><span class="line">    now = datetime.datetime.now()</span><br><span class="line">    html = &quot;现在时间： % now</span><br><span class="line">    return HttpResponse(html)</span><br><span class="line"></span><br><span class="line"># 动态url</span><br><span class="line">def timeAhead(request, offset):</span><br><span class="line">    try:</span><br><span class="line">        offset = int(offset)</span><br><span class="line">    except ValueError: # 如果传给int() 函数的值不能转换成整数（如字符串&quot;foo&quot;），Python 会抛出ValueError 异常</span><br><span class="line">        raise Http404()</span><br><span class="line">    dt = datetime.datetime.now() + datetime.timedelta(hours=offset)</span><br><span class="line">    html = &quot;In %s hour(s), it will be %s.&quot; % (offset, dt)</span><br><span class="line">    return HttpResponse(html)</span><br></pre></td></tr></table></figure>

<h2 id="配置URl"><a href="#配置URl" class="headerlink" title="配置URl"></a>配置URl</h2><p>若想把视图函数与特定的 URL 对应起来，要使用 URL 配置（URLconf）。URL 配置相当于 Django 驱动的网站的目录。简单来说，URL 配置把 URL 映射到相应的视图函数上，具体配置及说明如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># 从django.conf.urls 模块中导入两个函数：include，用于导入另一个 URL 配置模块；url，使用正则表达式模式匹配浏览器中的 URL，把它映射到 Django 项目中的某个模块上。</span><br><span class="line">from django.conf.urls import include, url</span><br><span class="line"># 从django.contrib 模块中导入admin 函数。这个函数传给include 函数，加载 Django 管理后台的 URL</span><br><span class="line">from django.contrib import admin</span><br><span class="line"></span><br><span class="line"># url实例列表</span><br><span class="line">urlpatterns = [</span><br><span class="line">    # 注意：正则表达式字符串前面的&apos;r&apos; 字符。它的目的是告诉 Python，那是“原始字符串”，不要解释里面的反斜线</span><br><span class="line">    # 第一个参数是模式匹配字符串（一个正则表达式，稍后说明），第二个参数是模式使用的视图函数</span><br><span class="line"></span><br><span class="line">    # url(r&apos;^$&apos;, index),    # 为根地址指定一个 URL 模式</span><br><span class="line">    url(r&apos;^admin/&apos;, include(admin.site.urls)),</span><br><span class="line">    # 静态类容</span><br><span class="line">    url(r&apos;^hello/$&apos;, hello),  # ^ 和 $  开头和结尾匹配模式   去掉hello就可以作为根地址</span><br><span class="line">    # 动态内容</span><br><span class="line">    url(r&apos;^nowTime/$&apos;, currentDatetime),</span><br><span class="line">    # 动态URl，Django 的核心哲学之一是，URL 应该美观，既符合REST风格，这里能匹配time/plus/2  time/plus/20</span><br><span class="line">    url(r&apos;^time/plus/(\d&#123;1,2&#125;)/$&apos;, timeAhead),  # 正则匹配</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<h2 id="处理请求过程"><a href="#处理请求过程" class="headerlink" title="处理请求过程"></a>处理请求过程</h2><p>运行python manage.py runserver 命令时，manage.py 脚本在内层mysite 目录中寻找名为settings.py 的文件。这个文件中保存着当前 Django 项目的全部配置，各个配置的名称都是大写的，然后找到如下配置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 指向URl配置文件，寻找URl详细配置</span><br><span class="line">ROOT_URLCONF = &apos;mysite.urls&apos;</span><br></pre></td></tr></table></figure>

<p>找到匹配的模式之后，调用对应的视图函数，并把一个HttpRequest 对象作为第一个参数传给视图,视图函数必须返回一个HttpResponse 对象。</p>
<p>随后，余下的工作交给 Django 处理：把那个 Python 对象转换成正确的 Web 响应，并且提供合适的 HTTP 首部和主体（即网页的内容）。综上：</p>
<ol>
<li><p>请求/hello/。</p>
</li>
<li><p>Django 查看ROOT_URLCONF 设置，找到根 URL 配置。</p>
</li>
<li><p>Django 比较 URL 配置中的各个 URL 模式，找到与/hello/ 匹配的那个。</p>
</li>
<li><p>如果找到匹配的模式，调用对应的视图函数。</p>
</li>
<li><p>视图函数返回一个HttpResponse 对象。</p>
</li>
<li><p>Django 把HttpResponse 对象转换成正确的 HTTP 响应，得到网页。</p>
</li>
</ol>
<h1 id="Djongo模板"><a href="#Djongo模板" class="headerlink" title="Djongo模板"></a>Djongo模板</h1><p>Django 模板是一些文本字符串，作用是把文档的表现与数据区分开。模板定义一些占位符和基本的逻辑（模板标签），规定如何显示文档。通常，模板用于生成 HTML，不过 Django 模板可以生成任何基于文本的格式。</p>
<h2 id="变量和模板标签"><a href="#变量和模板标签" class="headerlink" title="变量和模板标签"></a>变量和模板标签</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></td><td class="code"><pre><span class="line">* &#123;&#123; xxx &#125;&#125;     指定变量的值插入这里</span><br><span class="line"></span><br><span class="line">* &#123;% xxx %&#125;     模板标签，基本模板标签有如下</span><br><span class="line"></span><br><span class="line">    # 逻辑判断标签</span><br><span class="line">    # 注意，此示例中使用了 if elif else and not or 等逻辑判断语句，与python保持一致</span><br><span class="line">    # if标签中不能包含括号，如果需要使用括号判断，必须写成嵌套 if 标签语句</span><br><span class="line">    &#123;% if a1 and a2 %&#125;</span><br><span class="line">        &lt;p&gt;a1为真并且a2为真，显示此内容&lt;/p&gt;</span><br><span class="line">    &#123;% elif not a3 %&#125;</span><br><span class="line">        &lt;p&gt; else if a3 为假，显示此内容，注意elif是可选标签&lt;/p&gt;</span><br><span class="line">    &#123;% elif a4 or not a5 %&#125;</span><br><span class="line">        &lt;p&gt; else if a4 为真，或者 a5 为假，显示此内容，注意elif是可选标签&lt;/p&gt;</span><br><span class="line">    &#123;% else %&#125;</span><br><span class="line">        &lt;p&gt; else显示此内容，注意else是可选标签&lt;/p&gt;</span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    # 迭代元素标签</span><br><span class="line">    # 正向迭代</span><br><span class="line">    &#123;% for item in item_list %&#125;</span><br><span class="line">        &lt;li&gt;&#123;&#123; item &#125;&#125;&lt;/li&gt;</span><br><span class="line">    &#123;% endfor %&#125;</span><br><span class="line"></span><br><span class="line">    # 反向迭代</span><br><span class="line">    &#123;% for item in item_list reversed %&#125;</span><br><span class="line">        &lt;li&gt;&#123;&#123; item &#125;&#125;&lt;/li&gt;</span><br><span class="line">    &#123;% endfor %&#125;</span><br><span class="line"></span><br><span class="line">    # 定义迭代列表为空的行为</span><br><span class="line">    &#123;% for item in item_list %&#125;</span><br><span class="line">        &lt;p&gt;&#123;&#123; item &#125;&#125;&lt;/p&gt;</span><br><span class="line">    &#123;% empty %&#125;</span><br><span class="line">        &lt;p&gt;此处定义要迭代的元素为空的行为&lt;/p&gt;</span><br><span class="line">    &#123;% endfor %&#125;</span><br><span class="line"></span><br><span class="line">    # 获取迭代当前元素索引</span><br><span class="line">    &#123;% for item in item_list %&#125;</span><br><span class="line">        &lt;p&gt;&#123;&#123; forloop.counter &#125;&#125;: forloop.counter表示当前元素索引&lt;/p&gt;</span><br><span class="line">        &lt;p&gt;&#123;&#123; forloop.revcounter &#125;&#125;: forloop.revcounter表示剩余元素数量&lt;/p&gt;</span><br><span class="line">        &#123;% if forloop.first %&#125;</span><br><span class="line">           &lt;p&gt;forloop.first返回的是boolean，表示是否第一个元素&lt;/p&gt;</span><br><span class="line">        &#123;% elif forloop.last %&#125;</span><br><span class="line">            &lt;p&gt;forloop.last返回的也是boolean，表示是否最后一个元素&lt;/p&gt;</span><br><span class="line">        &#123;% endif %&#125;</span><br><span class="line">    &#123;% endfor %&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    # 比较值相等标签</span><br><span class="line">    &#123;% ifequal A B %&#125;</span><br><span class="line">        &lt;h1&gt;A 的值和 B 的值相等!&lt;/h1&gt;</span><br><span class="line">    &#123;% else %&#125;</span><br><span class="line">        &lt;h1&gt;A 的值和 B 的值不相等!&lt;/h1&gt;</span><br><span class="line">    &#123;% endifequal %&#125;</span><br><span class="line"></span><br><span class="line">    # 比较值不相等标签</span><br><span class="line">    &#123;% ifnotequal A &apos;JJW&apos; %&#125;</span><br><span class="line">        &lt;h1&gt;A 的值不等于JJW!&lt;/h1&gt;</span><br><span class="line">    &#123;% else %&#125;</span><br><span class="line">        &lt;h1&gt;A 的值等于JJW!&lt;/h1&gt;</span><br><span class="line">    &#123;% endifnotequal %&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    # 模板注释</span><br><span class="line">    # 单行注释</span><br><span class="line">    &#123;# 这里是一个注释 #&#125;</span><br><span class="line"></span><br><span class="line">    # 多行注释，comment标签</span><br><span class="line">    &#123;% comment %&#125;</span><br><span class="line">        第一行注释</span><br><span class="line">        第二行注释</span><br><span class="line">    &#123;% endcomment %&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    # 过滤器</span><br><span class="line">    # 模板过滤器是在显示变量之前调整变量值的简单方式</span><br><span class="line">    # 把文本转换成小写，然后再显示</span><br><span class="line">    &#123;&#123; name|lower &#125;&#125;</span><br><span class="line"></span><br><span class="line">    # 获取列表中的第一个元素，然后将其转换成大写</span><br><span class="line">    &#123;&#123; my_list|first|upper &#125;&#125;</span><br><span class="line"></span><br><span class="line">    # 显示bio 变量的前 30 个词</span><br><span class="line">    &#123;&#123; bio|truncatewords:&quot;30&quot; &#125;&#125;</span><br><span class="line"></span><br><span class="line">    # 在反斜线、单引号和双引号前面添加一个反斜线。可用于转义字符串</span><br><span class="line">    &#123;&#123; value|addslashes &#125;&#125;</span><br><span class="line"></span><br><span class="line">    # 返回值长度，如果是列表，返回列表元素个数</span><br><span class="line">    &#123;&#123; name|length &#125;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    # include 模板标签</span><br><span class="line">    这个标签的作用是引入另一个模板的内容。它的参数是要引入的模板的名称，可以是变量，也可以是硬编码的字符串（放在引号里，单双引号都行）</span><br><span class="line"></span><br><span class="line">    &#123;% include &apos;nav.html&apos; %&#125;</span><br><span class="line">    &#123;% include &quot;nav.html&quot; %&#125;</span><br><span class="line"></span><br><span class="line">    # 以下是使用示例</span><br><span class="line">    &lt;html&gt;</span><br><span class="line">        &lt;body&gt;</span><br><span class="line">            &#123;% include &quot;includes/nav.html&quot; %&#125;</span><br><span class="line">            &lt;h1&gt;&#123;&#123; title &#125;&#125;&lt;/h1&gt;</span><br><span class="line">        &lt;/body&gt;</span><br><span class="line">    &lt;/html&gt;</span><br><span class="line"></span><br><span class="line">    # includes/nav.html</span><br><span class="line">    &lt;div id=&quot;nav&quot;&gt;</span><br><span class="line">        You are in: &#123;&#123; current_section &#125;&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    # 模板继承</span><br><span class="line">    # 模板继承是指创建一个基底“骨架”模板，包含网站的所有通用部分，并且定义一些“块”，让子模板覆盖。</span><br><span class="line"></span><br><span class="line">    # 首先定义一个基地模板</span><br><span class="line">    # &#123;% block xxx %&#125;&#123;% endblock %&#125; 表示此标签内容可以被子模板重写</span><br><span class="line">    &lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">        &lt;head&gt;</span><br><span class="line">            &lt;title&gt;&#123;% block title %&#125;&#123;% endblock %&#125;&lt;/title&gt;</span><br><span class="line">        &lt;/head&gt;</span><br><span class="line">        &lt;body&gt;</span><br><span class="line">            &lt;h1&gt;My helpful timestamp site&lt;/h1&gt;</span><br><span class="line">            &#123;% block content %&#125;&#123;% endblock %&#125;</span><br><span class="line">            &#123;% block footer %&#125;</span><br><span class="line">                &lt;hr&gt;</span><br><span class="line">                &lt;p&gt;Thanks for visiting my site.&lt;/p&gt;</span><br><span class="line">            &#123;% endblock %&#125;</span><br><span class="line">        &lt;/body&gt;</span><br><span class="line">    &lt;/html&gt;</span><br><span class="line"></span><br><span class="line">    # 然后定义子模板</span><br><span class="line">    # 子模板需要继承父模板 &#123;% extends &quot;base.html&quot; %&#125;</span><br><span class="line">    # 重写依然要使用 &#123;% block xxx %&#125;&#123;% endblock %&#125; 标签</span><br><span class="line">    &#123;% extends &quot;base.html&quot; %&#125;</span><br><span class="line">    &#123;% block title %&#125;Future time&#123;% endblock %&#125;</span><br><span class="line">    &#123;% block content %&#125;</span><br><span class="line">        &lt;p&gt;</span><br><span class="line">        In &#123;&#123; hour_offset &#125;&#125; hour(s), it will be &#123;&#123; next_time &#125;&#125;.</span><br><span class="line">        &lt;/p&gt;</span><br><span class="line">    &#123;% endblock %&#125;</span><br></pre></td></tr></table></figure>

<h2 id="使用模板系统"><a href="#使用模板系统" class="headerlink" title="使用模板系统"></a>使用模板系统</h2><p>Django 系统经过配置后可以使用一个或多个模板引擎（如果不用模板，那就不用配置）。Django 自带了一个内置的后端，用于支持自身的模板引擎，即 Django Template Language（DTL），若想在 Python 代码中使用 Django 的模板系统，基本方式如下：</p>
<ol>
<li><p>以字符串形式提供原始的模板代码，创建Template 对象。</p>
</li>
<li><p>在Template 对象上调用render() 方法，传入一系列变量（上下文）。返回的是完全渲染模板后得到的字符串，模板中的变量和模板标签已经根据上下文求出值了。</p>
</li>
</ol>
<p>以上步骤我们都可以使用一个函数来完成，那就是render()函数，render() 的第一个参数是请求对象，第二个参数是模板名称，第三个参数可选，是一个字段，用于创建传给模板的上下文。如果不指定第三个参数，render() 使用一个空字典，具体使用如下介绍。</p>
<h3 id="模板目录及模板加载"><a href="#模板目录及模板加载" class="headerlink" title="模板目录及模板加载"></a>模板目录及模板加载</h3><p>为了从文件系统中加载模板，Django 提供了便利而强大的 API，力求去掉模板加载调用和模板自身的冗余。若想使用这个模板加载 API，首先要告诉框架模板的存储位置。这个位置在设置文件中配置，打开settings.py 文件，找到TEMPLATES 设置。它的值是一个列表，分别针对各个模板引擎：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">TEMPLATES = [</span><br><span class="line">    &#123;</span><br><span class="line">        # BACKEND 的值是一个点分 Python 路径，指向实现 Django 模板后端 API 的模板引擎类</span><br><span class="line">        &apos;BACKEND&apos;: &apos;django.template.backends.django.DjangoTemplates&apos;,</span><br><span class="line"></span><br><span class="line">        #  DIRS 定义一个目录列表，模板引擎按顺序在里面查找模板源文件。</span><br><span class="line">        # 当前设置表示在项目根目录中放一些主模板，模板目录不一定非得叫&apos;templates&apos;，可以自定义</span><br><span class="line">        &apos;DIRS&apos;: [os.path.join(BASE_DIR, &apos;templates&apos;)],</span><br><span class="line"></span><br><span class="line">        # 去应用所在位置查找模板，APPS_DIRS 设为True 时，DjangoTemplates 会在INSTALLED_APPS 中的各个应用里查找名为“templates”的子目录。这样，即使DIRS 为空，模板引擎还能查找应用模板。</span><br><span class="line">        &apos;APP_DIRS&apos;: True,</span><br><span class="line"></span><br><span class="line">        # OPTIONS 是一些针对后端的设置</span><br><span class="line">        &apos;OPTIONS&apos;: &#123;</span><br><span class="line">            # 默认的处理器上下文</span><br><span class="line">            &apos;context_processors&apos;: [</span><br><span class="line">                &apos;django.template.context_processors.debug&apos;,</span><br><span class="line">                &apos;django.template.context_processors.request&apos;,</span><br><span class="line">                &apos;django.contrib.auth.context_processors.auth&apos;,</span><br><span class="line">                &apos;django.contrib.messages.context_processors.messages&apos;,</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<h4 id="查找模板逻辑"><a href="#查找模板逻辑" class="headerlink" title="查找模板逻辑"></a>查找模板逻辑</h4><ul>
<li><p>如果APP_DIRS 的值是True，而且使用 DTL，在当前应用中查找“templates”目录。</p>
</li>
<li><p>如果在当前应用中没找到模板，把传给它的模板名称添加到DIRS 中的各个目录后面，按顺序在各个目录中查找。假如DIRS 的第一个元素是’/home/django/mysite/templates’，调用查找的模板是/home/django/mysite/templates/current_datetime.html。</p>
</li>
<li><p>找不到指定名称对应的模板，抛出TemplateDoesNotExist 异常。</p>
</li>
</ul>
<h4 id="使用示例及说明"><a href="#使用示例及说明" class="headerlink" title="使用示例及说明"></a>使用示例及说明</h4><p>视图函数如下定义：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">from django.shortcuts import render</span><br><span class="line">import datetime</span><br><span class="line"></span><br><span class="line">def currentDatetime(request):</span><br><span class="line">    now = datetime.datetime.now()</span><br><span class="line">    return render(request, &apos;test/current_datetime.html&apos;, &#123;&apos;current_date&apos;: now&#125;)</span><br></pre></td></tr></table></figure>

<p>通过以上示例我们发现：</p>
<ul>
<li><p>不用再导入get_template、Template、Context 或HttpResponse 了，而要导入django.shortcuts.render</p>
</li>
<li><p>import datetime 不变。</p>
</li>
<li><p>在current_datetime 函数中，仍然要计算now，不过加载模板、创建上下文、渲染模板和创建HttpResponse对象全由render() 调用代替了。render() 的返回值是一个HttpResponse 对象，因此在视图中可以直接返回那个值。</p>
</li>
</ul>
<p>注意上述我们还使用了模板子目录：test/current_datetime.html，表示去根目录下寻找templates目录下的test目录，找到模板。</p>
<h1 id="Djongo模型"><a href="#Djongo模型" class="headerlink" title="Djongo模型"></a>Djongo模型</h1><p>Django 非常适合构建数据库驱动型网站，它提供了简单而强大的工具，易于使用 Python 执行数据库查询，本章就说明这个功能，即 Django 的数据库层。</p>
<h2 id="配置数据库"><a href="#配置数据库" class="headerlink" title="配置数据库"></a>配置数据库</h2><p>数据库连接的配置也在settings文件中，具体如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># 数据库配置，这里使用集成的sqllite3，我们配置自己的数据库，类似于我们Java项目中的配置文件中配置即可</span><br><span class="line"></span><br><span class="line">DATABASES = &#123;</span><br><span class="line">    &apos;default&apos;: &#123;</span><br><span class="line">        &apos;ENGINE&apos;: &apos;django.db.backends.sqlite3&apos;, # ENGINE 告诉 Django 使用哪个数据库引擎。</span><br><span class="line">        &apos;NAME&apos;: os.path.join(BASE_DIR, &apos;db.sqlite3&apos;), # NAME 告诉 Django 数据库的名称。</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 配置MySQL数据库</span><br><span class="line"># DATABASES = &#123;</span><br><span class="line">#     &apos;default&apos;: &#123;</span><br><span class="line">#         &apos;ENGINE&apos;: &apos;django.db.backends.mysql&apos;,  # 或者使用 mysql.connector.django</span><br><span class="line">#         &apos;NAME&apos;: &apos;test&apos;,</span><br><span class="line">#         &apos;USER&apos;: &apos;test&apos;,</span><br><span class="line">#         &apos;PASSWORD&apos;: &apos;test123&apos;,</span><br><span class="line">#         &apos;HOST&apos;:&apos;localhost&apos;,</span><br><span class="line">#         &apos;PORT&apos;:&apos;3306&apos;,</span><br><span class="line">#     &#125;</span><br><span class="line"># &#125;</span><br></pre></td></tr></table></figure>

<h2 id="创建应用"><a href="#创建应用" class="headerlink" title="创建应用"></a>创建应用</h2><p>下面说明项目和应用的区别：</p>
<ul>
<li><p>一个项目是一系列 Django 应用的实例，外加那些应用的配置。严格来说，一个项目唯一需要的是一个设定文件，定义数据库连接信息、安装的应用列表、DIRS，等等。</p>
</li>
<li><p>一个应用是一系列便携的 Django 功能，通常包含模型和视图。打包在一个 Python 包里。Django 自带了一些应用，例如管理后台。这些应用的独特之处是便携，可以在多个项目中复用。</p>
</li>
</ul>
<p>在项目目录，注意是项目目录，使用如下命令创建新的应用，并指定自定义应用名称：python manage.py startapp 应用名称。</p>
<p>Django 通过模型在背后执行 SQL，返回便利的 Python 数据结构，表示数据库表中的行。Django 还通过模型表示 SQL 无法处理的高层级概念，这么做的好处如下：</p>
<ul>
<li><p>内省（introspection）有开销，而且不完美。为了提供便利的数据访问 API，Django 需要以某种方式知晓数据库布局，而这一需求有两种实现方式。第一种是使用Python 明确描述数据，第二种是在运行时内省数据库，推知数据模型。第二种方式在一个地方存储表的元数据，看似更简单，其实会导致几个问题。首先，运行时内省数据库肯定有消耗。如果每次执行请求，或者只是初始化 Web 服务器都要内省数据库，那带来的消耗是无法接受的，其次，有些数据库，尤其是旧版 MySQL，存储的元数据不足以完成内省。</p>
</li>
<li><p>Python 编写起来让人心情舒畅，而且使用 Python 编写所有代码无需频繁让大脑切换情境。在一个编程环境（思维）中待久了，有助于提升效率。在 SQL 和 Python 之间换来换去容易打断状态。</p>
</li>
<li><p>把数据模型保存在代码中比保存在数据库中易于做版本控制，易于跟踪数据布局的变化。</p>
</li>
<li><p>SQL 对数据布局的元数据只有部分支持。例如，多数数据库系统没有提供专门表示电子邮件地址或URL 的数据类型。而 Django 模型有。高层级的数据结构有助于提升效率，让代码更便于复用。</p>
</li>
<li><p>不同数据库平台使用的 SQL 不一致。</p>
</li>
</ul>
<p>分发 Web 应用程序时，更务实的做法是分发一个描述数据布局的 Python 模块，而不是分别针对MySQL、PostgreSQL 和 SQLite 的CREATE TABLE 语句。</p>
<h3 id="创建自己的模型"><a href="#创建自己的模型" class="headerlink" title="创建自己的模型"></a>创建自己的模型</h3><p>在我们新创建的应用的models.py文件中，添加自己定义的模型，如下：</p>
<p>让 Django 具有基本的数据访问能力只需编写这些代码。一般，一个模型对应于一个数据库表，模型中的各个属性分别对应于数据库表中的一列。属性的名称对应于列的名称，字段的类型（如CharField）对应于数据库列的类型(如varchar)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"># 厂家</span><br><span class="line">class Manufacturers(models.Model):</span><br><span class="line">    name = models.CharField(max_length=30)</span><br><span class="line">    address = models.CharField(max_length=50)</span><br><span class="line">    city = models.CharField(max_length=60)</span><br><span class="line">    province = models.CharField(max_length=30)</span><br><span class="line">    website = models.URLField(blank=True, null=True, verbose_name=&apos;网址&apos;) # 表单允许为空    修改数据库结构，表示字段可为空</span><br><span class="line"></span><br><span class="line">    def __str__(self):</span><br><span class="line">        return u&apos;%s&apos; % (self.name)</span><br><span class="line"></span><br><span class="line"># 经销商</span><br><span class="line">class Vender(models.Model):</span><br><span class="line">    name = models.CharField(max_length=30)</span><br><span class="line">    address = models.CharField(max_length=50)</span><br><span class="line">    city = models.CharField(max_length=60)</span><br><span class="line">    province = models.CharField(max_length=30)</span><br><span class="line">    telephone = models.CharField(max_length=20)</span><br><span class="line"></span><br><span class="line">    def __str__(self):</span><br><span class="line">        return u&apos;%s %s %s %s %s&apos; % (self.name, self.address, self.city, self.province, self.telephone)</span><br><span class="line"></span><br><span class="line"># 产品</span><br><span class="line">class Product(models.Model):</span><br><span class="line">    title = models.CharField(max_length=100)</span><br><span class="line">    vender = models.ManyToManyField(Vender) # 多对多关系</span><br><span class="line">    manufacturers = models.ForeignKey(Manufacturers)    # 一对多</span><br><span class="line">    product_date = models.DateField()</span><br><span class="line">    # fields = (&apos;title&apos;, &apos;product_date&apos;, &apos;vender&apos;, &apos;manufacturers&apos;)</span><br><span class="line"></span><br><span class="line">    def __str__(self):</span><br><span class="line">        return u&apos;%s %s&apos; % (self.title, self.product_date)</span><br><span class="line"></span><br><span class="line">    # 任何模型都可以使用Meta 类指定多个针对所在模型的选项。</span><br><span class="line">    class Meta:</span><br><span class="line">        ordering = [&apos;product_date&apos;]</span><br></pre></td></tr></table></figure>

<p>注意：多对多关系，在上述示例模型中，Django 会创建一个额外的表，一个多对多联结表（join table），处理Product与Vender之间的对应关系。</p>
<h3 id="安装模型"><a href="#安装模型" class="headerlink" title="安装模型"></a>安装模型</h3><p>在settings文件中注册上我们自己创建的应用，注册位置已经在之前描述过，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># Application definition</span><br><span class="line"># 注意：此处添加自己开发的应用</span><br><span class="line">INSTALLED_APPS = (</span><br><span class="line">    &apos;django.contrib.admin&apos;, # 管理后台</span><br><span class="line">    &apos;django.contrib.auth&apos;,  # 身份验证系统</span><br><span class="line">    &apos;django.contrib.contenttypes&apos;,  # 内容类型框架</span><br><span class="line">    &apos;django.contrib.sessions&apos;,  # 会话框架</span><br><span class="line">    &apos;django.contrib.messages&apos;,  # 消息框架</span><br><span class="line">    &apos;django.contrib.staticfiles&apos;,   # 管理静态文件的框架</span><br><span class="line"></span><br><span class="line">    &apos;cerealsOils&apos;,  # 自己开发的应用</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>注册好后就可以验证和安装模型：</p>
<p>验证模型使用命令：<strong>python manage.py check</strong> check 命令运行 Django 系统检查框架，即验证 Django 项目的一系列静态检查。如果一切正常，你将看到这个消息：System check identified no issues (0 silenced)，不然会抛出出错位置的异常</p>
<p>安装模型使用命令：<strong>python manage.py makemigrations cerealsOils</strong>，这样我们就安装好了模型，并根据模型定义创建好了数据库表</p>
<p>查看建表语句可以执行命令：<strong>python manage.py sqlmigrate cerealsOils 0001</strong>，这样建表语句就会输出出来</p>
<h1 id="Djongo后台管理"><a href="#Djongo后台管理" class="headerlink" title="Djongo后台管理"></a>Djongo后台管理</h1><p>对多数现代的网站而言，管理界面是基础设施的重要组成部分。这是一个 Web 界面，限制只让授信的网站管理员访问，用于添加、编辑和删除网站内容。常见的示例有：发布博客的界面，网站管理人员审核用户评论的后端，客户用来更新新闻稿的工具。<br>不过，管理界面有个问题：构建起来繁琐。构建面向公众的功能时，Web 开发是有趣的，但是管理界面一成不变，要验证用户身份、显示并处理表单、验证输入，等等。这个过程无趣、乏味。<br>在 Django 中，构建管理界面不算个事， Django 为我们自动生成的管理界面，了解它为模型提供的便利界面，以及可以使用的其他功能。</p>
<h2 id="使用管理后台"><a href="#使用管理后台" class="headerlink" title="使用管理后台"></a>使用管理后台</h2><p>之前创建项目时我们执行了<strong>django-admin startproject mysite</strong>命令时，Django 为我们创建并配置了默认的管理后台。我们只需创建一个管理员用户（超级用户），就可以登录管理后台。</p>
<ol>
<li><p>创建管理用户：<strong>python manage.py createsuperuser</strong></p>
</li>
<li><p>输入要创建的用户：Username: admin</p>
</li>
<li><p>输入邮箱地址：Email address: <a href="mailto:admin@example.com" target="_blank" rel="noopener">admin@example.com</a></p>
</li>
<li><p>输入用户密码，需要输入两次确认：Password: <strong><strong>**</strong></strong></p>
</li>
</ol>
<p>启动服务器，访问ttp://127.0.0.1:8000/admin/就可以进入登录页面，登录后具体操作就可以被看懂了，这里不再赘述，可以启动项目为大家演示一下。</p>
<h2 id="将我们创建的模型添加至后台管理"><a href="#将我们创建的模型添加至后台管理" class="headerlink" title="将我们创建的模型添加至后台管理"></a>将我们创建的模型添加至后台管理</h2><p>在我们新创建的项目目录下创建admin.py文件，并添加如下代码，这样就将我们创建的模型添加至了后天管理系统：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">from django.contrib import admin</span><br><span class="line">from .models import Manufacturers, Vender, Product</span><br><span class="line"></span><br><span class="line"># 注册我们创建的模型</span><br><span class="line">admin.site.register(Manufacturers, ManufacturersAdmin)</span><br><span class="line">admin.site.register(Vender, VenderAdmin)</span><br><span class="line">admin.site.register(Product, ProductAdmin)</span><br></pre></td></tr></table></figure>

<h2 id="将字段定义为可选（非必填）及自定义字段标注"><a href="#将字段定义为可选（非必填）及自定义字段标注" class="headerlink" title="将字段定义为可选（非必填）及自定义字段标注"></a>将字段定义为可选（非必填）及自定义字段标注</h2><p>默认我们创建的模型在后台管理页面都是必填字段，及显示的名称都是字段的英文名称，我们可以修改model，添加一下属性，来设置字段为非必填及显示的名称为可以看懂的名称，如下示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 厂家</span><br><span class="line">class Manufacturers(models.Model):</span><br><span class="line">    name = models.CharField(max_length=30, verbose_name=&apos;厂家名称&apos;)</span><br><span class="line">    address = models.CharField(max_length=50, verbose_name=&apos;具体地址&apos;)</span><br><span class="line">    city = models.CharField(max_length=60, verbose_name=&apos;所在地市&apos;)</span><br><span class="line">    province = models.CharField(max_length=30, verbose_name=&apos;所在省份&apos;)</span><br><span class="line">    website = models.URLField(blank=True, null=True, verbose_name=&apos;网址&apos;) # 表单允许为空    修改数据库结构，表示字段可为空</span><br><span class="line"></span><br><span class="line">    def __str__(self):</span><br><span class="line">        return u&apos;%s&apos; % (self.name)</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>注：上述示例中：blank=True表示表单输入可为空， <strong>null=True</strong>表示数据库存值是如果是空也存为空，而不是字符”NULL”,verbose_name=’网址’表示自定义名称</p>
<h2 id="自定义ModelAdmin类"><a href="#自定义ModelAdmin类" class="headerlink" title="自定义ModelAdmin类"></a>自定义ModelAdmin类</h2><p>具体使用及属性设置明细见如下示例（此处可以打开后台管理界面给大家演示一下）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">from django.contrib import admin</span><br><span class="line">from .models import Manufacturers, Vender, Product</span><br><span class="line"></span><br><span class="line"># Register your models here.</span><br><span class="line"></span><br><span class="line">class ProductAdmin(admin.ModelAdmin):</span><br><span class="line">    list_display = (&apos;title&apos;, &apos;product_date&apos;, &apos;manufacturers&apos;)    # 注意 此处不能包含多对多字段</span><br><span class="line">    search_fields = (&apos;title&apos;, &apos;product_date&apos;)   # 添加列表搜索框内容，注意只有一个框，但输入内容后悔搜索多个字段，类似于ES的机制</span><br><span class="line">    list_filter = (&apos;product_date&apos;,)  # 右侧的过滤条  可以是日期 布尔 一对一外键类型</span><br><span class="line">    date_hierarchy = &apos;product_date&apos;  # 显示日期导航，注意只能添加一个导航</span><br><span class="line">    ordering = (&apos;-product_date&apos;,)   # 列表根据日期降序排序</span><br><span class="line">    fields = (&apos;product_date&apos;, &apos;title&apos;, &apos;manufacturers&apos;, &apos;vender&apos;)  # 自定义编辑表单，修改卡片页面排序，还可以排除字段，排除的字段将不能编辑</span><br><span class="line">    raw_id_fields = (&apos;manufacturers&apos;,)  # 针对一对一内容太多而做的界面优化，一般为下拉框内容太多的优化</span><br><span class="line">    filter_horizontal = (&apos;vender&apos;,) # 针对一对多内容太多而做的通过弹出框筛选</span><br><span class="line"></span><br><span class="line">class VenderAdmin(admin.ModelAdmin):</span><br><span class="line">    list_display = (&apos;name&apos;, &apos;address&apos;)</span><br><span class="line">    search_fields = (&apos;name&apos;, &apos;address&apos;)</span><br><span class="line"></span><br><span class="line">class ManufacturersAdmin(admin.ModelAdmin):</span><br><span class="line">    list_display = (&apos;name&apos;, &apos;address&apos;)</span><br><span class="line">    search_fields = (&apos;name&apos;, &apos;address&apos;)</span><br><span class="line">    </span><br><span class="line"># 将自定义的ModelAdmin注册到后台管理</span><br><span class="line">admin.site.register(Manufacturers, ManufacturersAdmin)</span><br><span class="line">admin.site.register(Vender, VenderAdmin)</span><br><span class="line">admin.site.register(Product, ProductAdmin)</span><br></pre></td></tr></table></figure>


            <div class="post-copyright">
    <div class="content">
        <p>最后更新： 2019年08月05日 17:23</p>
        <p>原始链接： <a class="post-url" href="/2019/08/04/Django-01/" title="Django-01">https://jjw-story.github.io/2019/08/04/Django-01/</a></p>
        <footer>
            <a href="https://jjw-story.github.io">
                <img src="/images/logo.png" alt="JJW">
                JJW
            </a>
        </footer>
    </div>
</div>

      
        
            
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;">赏</a>
</div>

<div id="reward" class="post-modal reward-lay">
    <a class="close" href="javascript:;" id="reward-close">×</a>
    <span class="reward-title">
        <i class="icon icon-quote-left"></i>
        请我吃糖~
        <i class="icon icon-quote-right"></i>
    </span>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/images/wechat_code.jpg" alt="打赏二维码">
        </div>
        <div class="reward-select">
            
            <label class="reward-select-item checked" data-id="wechat" data-wechat="/images/wechat_code.jpg">
                <img class="reward-select-item-wechat" src="/images/wechat.png" alt="微信">
            </label>
            
            
            <label class="reward-select-item" data-id="alipay" data-alipay="/images/alipay_code.jpg">
                <img class="reward-select-item-alipay" src="/images/alipay.png" alt="支付宝">
            </label>
            
        </div>
    </div>
</div>


        
    </div>
    <footer class="article-footer">
        
        
<div class="post-share">
    <a href="javascript:;" id="share-sub" class="post-share-fab">
        <i class="fa fa-share-alt"></i>
    </a>
    <div class="post-share-list" id="share-list">
        <ul class="share-icons">
          <li>
            <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://jjw-story.github.io/2019/08/04/Django-01/&title=《Django-01》 — JJW-STORY&pic=/images/blogs/python.jpg" data-title="微博">
              <i class="fa fa-weibo"></i>
            </a>
          </li>
          <li>
            <a class="weixin share-sns" id="wxFab" href="javascript:;" data-title="微信">
              <i class="fa fa-weixin"></i>
            </a>
          </li>
          <li>
            <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://jjw-story.github.io/2019/08/04/Django-01/&title=《Django-01》 — JJW-STORY&source=" data-title="QQ">
              <i class="fa fa-qq"></i>
            </a>
          </li>
          <li>
            <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://jjw-story.github.io/2019/08/04/Django-01/" data-title="Facebook">
              <i class="fa fa-facebook"></i>
            </a>
          </li>
          <li>
            <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Django-01》 — JJW-STORY&url=https://jjw-story.github.io/2019/08/04/Django-01/&via=https://jjw-story.github.io" data-title="Twitter">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
          <li>
            <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://jjw-story.github.io/2019/08/04/Django-01/" data-title="Google+">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        </ul>
     </div>
</div>
<div class="post-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;" id="wxShare-close">×</a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=https://jjw-story.github.io/2019/08/04/Django-01/" alt="微信分享二维码">
</div>

<div class="mask"></div>

        
        <ul class="article-footer-menu">
            
            
  <li class="article-footer-tags">
    <i class="fa fa-tags"></i>
      
    <a href="/tags/Python/" class="color2">Python</a>
      
    <a href="/tags/Django/" class="color2">Django</a>
      
  </li>

        </ul>
        
    </footer>
  </div>
</article>


    <aside class="post-toc-pos post-toc-top" id="post-toc">
        <nav class="post-toc-wrap">
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Djongo入门"><span class="post-toc-text">Djongo入门</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Djongo介绍"><span class="post-toc-text">Djongo介绍</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Djongo安装"><span class="post-toc-text">Djongo安装</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#新建Djongo项目"><span class="post-toc-text">新建Djongo项目</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#视图和URl配置"><span class="post-toc-text">视图和URl配置</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#创建视图函数"><span class="post-toc-text">创建视图函数</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#配置URl"><span class="post-toc-text">配置URl</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#处理请求过程"><span class="post-toc-text">处理请求过程</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Djongo模板"><span class="post-toc-text">Djongo模板</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#变量和模板标签"><span class="post-toc-text">变量和模板标签</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#使用模板系统"><span class="post-toc-text">使用模板系统</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#模板目录及模板加载"><span class="post-toc-text">模板目录及模板加载</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#查找模板逻辑"><span class="post-toc-text">查找模板逻辑</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#使用示例及说明"><span class="post-toc-text">使用示例及说明</span></a></li></ol></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Djongo模型"><span class="post-toc-text">Djongo模型</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#配置数据库"><span class="post-toc-text">配置数据库</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#创建应用"><span class="post-toc-text">创建应用</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#创建自己的模型"><span class="post-toc-text">创建自己的模型</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#安装模型"><span class="post-toc-text">安装模型</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Djongo后台管理"><span class="post-toc-text">Djongo后台管理</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#使用管理后台"><span class="post-toc-text">使用管理后台</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#将我们创建的模型添加至后台管理"><span class="post-toc-text">将我们创建的模型添加至后台管理</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#将字段定义为可选（非必填）及自定义字段标注"><span class="post-toc-text">将字段定义为可选（非必填）及自定义字段标注</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#自定义ModelAdmin类"><span class="post-toc-text">自定义ModelAdmin类</span></a></li></ol></li></ol>
        </nav>
    </aside>
    

<nav id="article-nav">
  
    <a href="/2019/08/08/网络状态查看/" id="article-nav-newer" class="article-nav-link-wrap">

      <span class="article-nav-title">
        <i class="fa fa-hand-o-left" aria-hidden="true"></i>
        
          网络状态查看
        
      </span>
    </a>
  
  
    <a href="/2019/08/04/Django-02/" id="article-nav-older" class="article-nav-link-wrap">
      <span class="article-nav-title">Django-02</span>
      <i class="fa fa-hand-o-right" aria-hidden="true"></i>
    </a>
  
</nav>



    
</section>
        
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info" class="inner">
      
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


      <p>
        Powered by  <a href="http://hexo.io/" target="_blank">Hexo</a>
        Theme <a href="//github.com/wongminho/hexo-theme-miho" target="_blank">MiHo</a>
      &copy; 2021 JJW<br>
      </p>
    </div>
  </div>
</footer>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script>
  var mihoConfig = {
      root: "https://jjw-story.github.io",
      animate: true,
      isHome: false,
      share: true,
      reward: 1
  }
</script>
<div class="sidebar">
    <div id="sidebar-search" title="Search">
        <i class="fa fa-search"></i>
    </div>
    <div id="sidebar-category" title="Categories">
        <i class="fa fa-book"></i>
    </div>
    <div id="sidebar-tag" title="Tags">
        <i class="fa fa-tags"></i>
    </div>
    <div id="sidebar-top">
        <span class="sidebar-top-icon"><i class="fa fa-angle-up"></i></span>
    </div>
</div>
<div class="sidebar-menu-box" id="sidebar-menu-box">
    <div class="sidebar-menu-box-container">
        <div id="sidebar-menu-box-categories">
            <a class="category-link" href="/categories/Docker/">Docker</a><a class="category-link" href="/categories/Elasticsearch/">Elasticsearch</a><a class="category-link" href="/categories/Flink/">Flink</a><a class="category-link" href="/categories/IDEA/">IDEA</a><a class="category-link" href="/categories/Kubernetes/">Kubernetes</a><a class="category-link" href="/categories/Lamda/">Lamda</a><a class="category-link" href="/categories/Linux/">Linux</a><a class="category-link" href="/categories/MQ/">MQ</a><a class="category-link" href="/categories/MySQL/">MySQL</a><a class="category-link" href="/categories/Python/">Python</a><a class="category-link" href="/categories/Redis/">Redis</a><a class="category-link" href="/categories/Scala/">Scala</a><a class="category-link" href="/categories/Spark/">Spark</a><a class="category-link" href="/categories/设计模式/">设计模式</a><a class="category-link" href="/categories/高效员工起航训练营/">高效员工起航训练营</a>
        </div>
        <div id="sidebar-menu-box-tags">
            <a href="/tags/Compose/" style="font-size: 10px;">Compose</a> <a href="/tags/Design/" style="font-size: 15px;">Design</a> <a href="/tags/Django/" style="font-size: 13.33px;">Django</a> <a href="/tags/Docker/" style="font-size: 18.33px;">Docker</a> <a href="/tags/Elasticsearch/" style="font-size: 15px;">Elasticsearch</a> <a href="/tags/Flink/" style="font-size: 13.33px;">Flink</a> <a href="/tags/Flink-Storm-SparkStream对比/" style="font-size: 10px;">Flink Storm SparkStream对比</a> <a href="/tags/IDEA/" style="font-size: 10px;">IDEA</a> <a href="/tags/Kebernetes/" style="font-size: 10px;">Kebernetes</a> <a href="/tags/Kubernetes/" style="font-size: 10px;">Kubernetes</a> <a href="/tags/Lamda/" style="font-size: 10px;">Lamda</a> <a href="/tags/MQ/" style="font-size: 10px;">MQ</a> <a href="/tags/MySQL/" style="font-size: 15px;">MySQL</a> <a href="/tags/Network/" style="font-size: 10px;">Network</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/Python基础/" style="font-size: 10px;">Python基础</a> <a href="/tags/Redis/" style="font-size: 16.67px;">Redis</a> <a href="/tags/Scala/" style="font-size: 11.67px;">Scala</a> <a href="/tags/Shell/" style="font-size: 10px;">Shell</a> <a href="/tags/Spark/" style="font-size: 10px;">Spark</a> <a href="/tags/Swarm/" style="font-size: 10px;">Swarm</a> <a href="/tags/command/" style="font-size: 20px;">command</a> <a href="/tags/overview/" style="font-size: 10px;">overview</a> <a href="/tags/su-sudo/" style="font-size: 10px;">su-sudo</a> <a href="/tags/vim/" style="font-size: 10px;">vim</a> <a href="/tags/入门/" style="font-size: 16.67px;">入门</a> <a href="/tags/内存与磁盘管理/" style="font-size: 10px;">内存与磁盘管理</a> <a href="/tags/创建型设计模式/" style="font-size: 10px;">创建型设计模式</a> <a href="/tags/原则-规范-重构/" style="font-size: 10px;">原则-规范-重构</a> <a href="/tags/基础/" style="font-size: 10px;">基础</a> <a href="/tags/实践一/" style="font-size: 11.67px;">实践一</a> <a href="/tags/实践三/" style="font-size: 11.67px;">实践三</a> <a href="/tags/实践二/" style="font-size: 11.67px;">实践二</a> <a href="/tags/实践四/" style="font-size: 10px;">实践四</a> <a href="/tags/帮助命令/" style="font-size: 10px;">帮助命令</a> <a href="/tags/打包压缩与解压缩/" style="font-size: 10px;">打包压缩与解压缩</a> <a href="/tags/数据持久化/" style="font-size: 10px;">数据持久化</a> <a href="/tags/文件及目录权限/" style="font-size: 10px;">文件及目录权限</a> <a href="/tags/文件查看命令/" style="font-size: 10px;">文件查看命令</a> <a href="/tags/文件管理命令/" style="font-size: 10px;">文件管理命令</a> <a href="/tags/文本查看命令/" style="font-size: 10px;">文本查看命令</a> <a href="/tags/核心技术一/" style="font-size: 10px;">核心技术一</a> <a href="/tags/核心技术三/" style="font-size: 10px;">核心技术三</a> <a href="/tags/核心技术二/" style="font-size: 10px;">核心技术二</a> <a href="/tags/核心技术四/" style="font-size: 10px;">核心技术四</a> <a href="/tags/用户和权限管理/" style="font-size: 10px;">用户和权限管理</a> <a href="/tags/结构型设计模式/" style="font-size: 10px;">结构型设计模式</a> <a href="/tags/网络管理/" style="font-size: 15px;">网络管理</a> <a href="/tags/行为型设计模式/" style="font-size: 10px;">行为型设计模式</a> <a href="/tags/语法/" style="font-size: 10px;">语法</a> <a href="/tags/软件包管理器和内核升级/" style="font-size: 10px;">软件包管理器和内核升级</a> <a href="/tags/运行时架构/" style="font-size: 10px;">运行时架构</a> <a href="/tags/进程管理/" style="font-size: 10px;">进程管理</a> <a href="/tags/进阶/" style="font-size: 10px;">进阶</a> <a href="/tags/逻辑卷管理/" style="font-size: 10px;">逻辑卷管理</a> <a href="/tags/镜像的构建和发布及容器操作/" style="font-size: 10px;">镜像的构建和发布及容器操作</a> <a href="/tags/高效员工起航训练营/" style="font-size: 10px;">高效员工起航训练营</a> <a href="/tags/高阶/" style="font-size: 10px;">高阶</a>
        </div>
    </div>
    <a href="javascript:;" class="sidebar-menu-box-close">&times;</a>
</div>
<div class="mobile-header-menu-nav" id="mobile-header-menu-nav">
    <div class="mobile-header-menu-container">
        <span class="title">Menus</span>
        <ul class="mobile-header-menu-navbar">
            
            <li>
                <a  href="/">
                    <i class="fa fa-home"></i><span>Home</span>
                </a>
            </li>
            
            <li>
                <a  href="/archives">
                    <i class="fa fa-archive"></i><span>Archives</span>
                </a>
            </li>
            
            <li>
                <a  href="/about">
                    <i class="fa fa-user"></i><span>About</span>
                </a>
            </li>
            
        </ul>
    </div>
    <div class="mobile-header-tag-container">
        <span class="title">Tags</span>
        <div id="mobile-header-container-tags">
            <a href="/tags/Compose/" style="font-size: 10px;">Compose</a> <a href="/tags/Design/" style="font-size: 15px;">Design</a> <a href="/tags/Django/" style="font-size: 13.33px;">Django</a> <a href="/tags/Docker/" style="font-size: 18.33px;">Docker</a> <a href="/tags/Elasticsearch/" style="font-size: 15px;">Elasticsearch</a> <a href="/tags/Flink/" style="font-size: 13.33px;">Flink</a> <a href="/tags/Flink-Storm-SparkStream对比/" style="font-size: 10px;">Flink Storm SparkStream对比</a> <a href="/tags/IDEA/" style="font-size: 10px;">IDEA</a> <a href="/tags/Kebernetes/" style="font-size: 10px;">Kebernetes</a> <a href="/tags/Kubernetes/" style="font-size: 10px;">Kubernetes</a> <a href="/tags/Lamda/" style="font-size: 10px;">Lamda</a> <a href="/tags/MQ/" style="font-size: 10px;">MQ</a> <a href="/tags/MySQL/" style="font-size: 15px;">MySQL</a> <a href="/tags/Network/" style="font-size: 10px;">Network</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/Python基础/" style="font-size: 10px;">Python基础</a> <a href="/tags/Redis/" style="font-size: 16.67px;">Redis</a> <a href="/tags/Scala/" style="font-size: 11.67px;">Scala</a> <a href="/tags/Shell/" style="font-size: 10px;">Shell</a> <a href="/tags/Spark/" style="font-size: 10px;">Spark</a> <a href="/tags/Swarm/" style="font-size: 10px;">Swarm</a> <a href="/tags/command/" style="font-size: 20px;">command</a> <a href="/tags/overview/" style="font-size: 10px;">overview</a> <a href="/tags/su-sudo/" style="font-size: 10px;">su-sudo</a> <a href="/tags/vim/" style="font-size: 10px;">vim</a> <a href="/tags/入门/" style="font-size: 16.67px;">入门</a> <a href="/tags/内存与磁盘管理/" style="font-size: 10px;">内存与磁盘管理</a> <a href="/tags/创建型设计模式/" style="font-size: 10px;">创建型设计模式</a> <a href="/tags/原则-规范-重构/" style="font-size: 10px;">原则-规范-重构</a> <a href="/tags/基础/" style="font-size: 10px;">基础</a> <a href="/tags/实践一/" style="font-size: 11.67px;">实践一</a> <a href="/tags/实践三/" style="font-size: 11.67px;">实践三</a> <a href="/tags/实践二/" style="font-size: 11.67px;">实践二</a> <a href="/tags/实践四/" style="font-size: 10px;">实践四</a> <a href="/tags/帮助命令/" style="font-size: 10px;">帮助命令</a> <a href="/tags/打包压缩与解压缩/" style="font-size: 10px;">打包压缩与解压缩</a> <a href="/tags/数据持久化/" style="font-size: 10px;">数据持久化</a> <a href="/tags/文件及目录权限/" style="font-size: 10px;">文件及目录权限</a> <a href="/tags/文件查看命令/" style="font-size: 10px;">文件查看命令</a> <a href="/tags/文件管理命令/" style="font-size: 10px;">文件管理命令</a> <a href="/tags/文本查看命令/" style="font-size: 10px;">文本查看命令</a> <a href="/tags/核心技术一/" style="font-size: 10px;">核心技术一</a> <a href="/tags/核心技术三/" style="font-size: 10px;">核心技术三</a> <a href="/tags/核心技术二/" style="font-size: 10px;">核心技术二</a> <a href="/tags/核心技术四/" style="font-size: 10px;">核心技术四</a> <a href="/tags/用户和权限管理/" style="font-size: 10px;">用户和权限管理</a> <a href="/tags/结构型设计模式/" style="font-size: 10px;">结构型设计模式</a> <a href="/tags/网络管理/" style="font-size: 15px;">网络管理</a> <a href="/tags/行为型设计模式/" style="font-size: 10px;">行为型设计模式</a> <a href="/tags/语法/" style="font-size: 10px;">语法</a> <a href="/tags/软件包管理器和内核升级/" style="font-size: 10px;">软件包管理器和内核升级</a> <a href="/tags/运行时架构/" style="font-size: 10px;">运行时架构</a> <a href="/tags/进程管理/" style="font-size: 10px;">进程管理</a> <a href="/tags/进阶/" style="font-size: 10px;">进阶</a> <a href="/tags/逻辑卷管理/" style="font-size: 10px;">逻辑卷管理</a> <a href="/tags/镜像的构建和发布及容器操作/" style="font-size: 10px;">镜像的构建和发布及容器操作</a> <a href="/tags/高效员工起航训练营/" style="font-size: 10px;">高效员工起航训练营</a> <a href="/tags/高阶/" style="font-size: 10px;">高阶</a>
        </div>
    </div>
</div>
<div class="search-wrap">
    <span class="search-close">&times;</span>
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
            <i class="icon icon-lg icon-chevron-left"></i>
        </a>
        <input class="search-field" placeholder="Search..." id="keywords">
        <a id="search-submit" href="javascript:;">
            <i class="fa fa-search"></i>
        </a>
    <div class="search-container" id="search-container">
        <ul class="search-result" id="search-result">
        </ul>
    </div>
</div>

<div id="search-tpl">
    <li class="search-result-item">
        <a href="{url}" class="search-item-li">
            <span class="search-item-li-title" title="{title}">{title}</span>
        </a>
    </li>
</div>
<script src="/js/search.js"></script>
<script src="/js/main.js"></script>


  <script src="//cdn.bootcss.com/particles.js/2.0.0/particles.min.js"></script>
  <div id="particles"></div>
  <script src="/js/particles.js"></script>







  <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  <script src="//cdn.bootcss.com/scrollReveal.js/3.0.5/scrollreveal.js"></script>
  <script src="/js/animate.js"></script>


  <script src="/js/pop-img.js"></script>
  <script>
     $(".article-entry p img").popImg();
  </script>

  </div>
</body>
</html>